<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="947px" preserveAspectRatio="none" style="width:707px;height:947px;background:#FFFFFF;" version="1.1" viewBox="0 0 707 947" width="707px" zoomAndPan="magnify"><defs><filter height="300%" id="f1dkop5e6qamzg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[45a0bc03ebf70602769dbf80803c9ff5]
class StoragesContainer--><rect codeLine="2" fill="#FEFECE" filter="url(#f1dkop5e6qamzg)" height="75.6719" id="StoragesContainer" style="stroke:#A80036;stroke-width:1.5;" width="136" x="411.5" y="7"/><ellipse cx="426.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M429.2656,18.875 Q429.4219,18.6563 429.6094,18.5469 Q429.7969,18.4375 430.0156,18.4375 Q430.3906,18.4375 430.625,18.6953 Q430.8594,18.9531 430.8594,19.5625 L430.8594,21.0156 Q430.8594,21.625 430.625,21.8906 Q430.3906,22.1563 430.0156,22.1563 Q429.6719,22.1563 429.4688,21.9531 Q429.2656,21.7656 429.1563,21.25 Q429.1094,20.8906 428.9219,20.7031 Q428.5938,20.3281 427.9844,20.1094 Q427.375,19.8906 426.75,19.8906 Q425.9844,19.8906 425.3516,20.2188 Q424.7188,20.5469 424.2266,21.2969 Q423.7344,22.0469 423.7344,23.0781 L423.7344,24.1719 Q423.7344,25.4063 424.625,26.2266 Q425.5156,27.0469 427.1094,27.0469 Q428.0469,27.0469 428.7031,26.7969 Q429.0938,26.6406 429.5156,26.2031 Q429.7813,25.9375 429.9297,25.8594 Q430.0781,25.7813 430.2813,25.7813 Q430.6094,25.7813 430.8672,26.0391 Q431.125,26.2969 431.125,26.6406 Q431.125,26.9844 430.7813,27.3906 Q430.2813,27.9688 429.4844,28.2969 Q428.4063,28.75 427.1094,28.75 Q425.5938,28.75 424.3906,28.125 Q423.4063,27.625 422.7188,26.5547 Q422.0313,25.4844 422.0313,24.2031 L422.0313,23.0469 Q422.0313,21.7188 422.6484,20.5703 Q423.2656,19.4219 424.3594,18.8047 Q425.4531,18.1875 426.6875,18.1875 Q427.4219,18.1875 428.0703,18.3516 Q428.7188,18.5156 429.2656,18.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104" x="440.5" y="27.9102">StoragesContainer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="412.5" x2="546.5" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="412.5" x2="546.5" y1="47" y2="47"/><ellipse cx="422.5" cy="58" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="431.5" y="62.4189">void init()</text><ellipse cx="422.5" cy="71.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="431.5" y="76.2549">void configure()</text><!--MD5=[84e821c306fe4d51c0d081569378114b]
class IStorageIO--><rect codeLine="9" fill="#FEFECE" filter="url(#f1dkop5e6qamzg)" height="89.5078" id="IStorageIO" style="stroke:#A80036;stroke-width:1.5;" width="92" x="435.5" y="279"/><ellipse cx="450.5" cy="295" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M451.4531,291.6406 L451.4531,298.2969 L453.1719,298.2969 Q453.7813,298.2969 454.0469,298.5313 Q454.3125,298.7656 454.3125,299.1563 Q454.3125,299.5313 454.0469,299.7656 Q453.7813,300 453.1719,300 L448.0313,300 Q447.4219,300 447.1563,299.7656 Q446.8906,299.5313 446.8906,299.1406 Q446.8906,298.7656 447.1563,298.5313 Q447.4219,298.2969 448.0313,298.2969 L449.75,298.2969 L449.75,291.6406 L448.0313,291.6406 Q447.4219,291.6406 447.1563,291.4063 Q446.8906,291.1719 446.8906,290.7813 Q446.8906,290.4063 447.1563,290.1719 Q447.4219,289.9375 448.0313,289.9375 L453.1719,289.9375 Q453.7813,289.9375 454.0469,290.1719 Q454.3125,290.4063 454.3125,290.7813 Q454.3125,291.1719 454.0469,291.4063 Q453.7813,291.6406 453.1719,291.6406 L451.4531,291.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="60" x="464.5" y="299.9102">IStorageIO</text><line style="stroke:#A80036;stroke-width:1.5;" x1="436.5" x2="526.5" y1="311" y2="311"/><line style="stroke:#A80036;stroke-width:1.5;" x1="436.5" x2="526.5" y1="319" y2="319"/><ellipse cx="446.5" cy="330" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="455.5" y="334.4189">void init()</text><ellipse cx="446.5" cy="343.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="455.5" y="348.2549">void deinit()</text><ellipse cx="446.5" cy="357.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="455.5" y="362.0908">void write()</text><!--MD5=[55cf75b686679030a2cc053f7a18829b]
class IStorageDriver--><rect codeLine="15" fill="#FEFECE" filter="url(#f1dkop5e6qamzg)" height="89.5078" id="IStorageDriver" style="stroke:#A80036;stroke-width:1.5;" width="112" x="429.5" y="648"/><ellipse cx="444.5" cy="664" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M445.4531,660.6406 L445.4531,667.2969 L447.1719,667.2969 Q447.7813,667.2969 448.0469,667.5313 Q448.3125,667.7656 448.3125,668.1563 Q448.3125,668.5313 448.0469,668.7656 Q447.7813,669 447.1719,669 L442.0313,669 Q441.4219,669 441.1563,668.7656 Q440.8906,668.5313 440.8906,668.1406 Q440.8906,667.7656 441.1563,667.5313 Q441.4219,667.2969 442.0313,667.2969 L443.75,667.2969 L443.75,660.6406 L442.0313,660.6406 Q441.4219,660.6406 441.1563,660.4063 Q440.8906,660.1719 440.8906,659.7813 Q440.8906,659.4063 441.1563,659.1719 Q441.4219,658.9375 442.0313,658.9375 L447.1719,658.9375 Q447.7813,658.9375 448.0469,659.1719 Q448.3125,659.4063 448.3125,659.7813 Q448.3125,660.1719 448.0469,660.4063 Q447.7813,660.6406 447.1719,660.6406 L445.4531,660.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="80" x="458.5" y="668.9102">IStorageDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="430.5" x2="540.5" y1="680" y2="680"/><line style="stroke:#A80036;stroke-width:1.5;" x1="430.5" x2="540.5" y1="688" y2="688"/><ellipse cx="440.5" cy="699" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="449.5" y="703.4189">void init()</text><ellipse cx="440.5" cy="712.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="449.5" y="717.2549">void deinit()</text><ellipse cx="440.5" cy="726.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="449.5" y="731.0908">void write()</text><!--MD5=[7db34624215397195264460eca68bfc7]
class SDCardStorage--><rect codeLine="21" fill="#FEFECE" filter="url(#f1dkop5e6qamzg)" height="61.8359" id="SDCardStorage" style="stroke:#A80036;stroke-width:1.5;" width="119" x="562" y="150"/><ellipse cx="577" cy="166" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M579.7656,161.875 Q579.9219,161.6563 580.1094,161.5469 Q580.2969,161.4375 580.5156,161.4375 Q580.8906,161.4375 581.125,161.6953 Q581.3594,161.9531 581.3594,162.5625 L581.3594,164.0156 Q581.3594,164.625 581.125,164.8906 Q580.8906,165.1563 580.5156,165.1563 Q580.1719,165.1563 579.9688,164.9531 Q579.7656,164.7656 579.6563,164.25 Q579.6094,163.8906 579.4219,163.7031 Q579.0938,163.3281 578.4844,163.1094 Q577.875,162.8906 577.25,162.8906 Q576.4844,162.8906 575.8516,163.2188 Q575.2188,163.5469 574.7266,164.2969 Q574.2344,165.0469 574.2344,166.0781 L574.2344,167.1719 Q574.2344,168.4063 575.125,169.2266 Q576.0156,170.0469 577.6094,170.0469 Q578.5469,170.0469 579.2031,169.7969 Q579.5938,169.6406 580.0156,169.2031 Q580.2813,168.9375 580.4297,168.8594 Q580.5781,168.7813 580.7813,168.7813 Q581.1094,168.7813 581.3672,169.0391 Q581.625,169.2969 581.625,169.6406 Q581.625,169.9844 581.2813,170.3906 Q580.7813,170.9688 579.9844,171.2969 Q578.9063,171.75 577.6094,171.75 Q576.0938,171.75 574.8906,171.125 Q573.9063,170.625 573.2188,169.5547 Q572.5313,168.4844 572.5313,167.2031 L572.5313,166.0469 Q572.5313,164.7188 573.1484,163.5703 Q573.7656,162.4219 574.8594,161.8047 Q575.9531,161.1875 577.1875,161.1875 Q577.9219,161.1875 578.5703,161.3516 Q579.2188,161.5156 579.7656,161.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="87" x="591" y="170.9102">SDCardStorage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="563" x2="680" y1="182" y2="182"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="570" y="190"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="582" y="197.4189">fileName</text><line style="stroke:#A80036;stroke-width:1.5;" x1="563" x2="680" y1="203.8359" y2="203.8359"/><!--MD5=[593d588e1c6f1d7ea50db6f5126e276f]
class UARTStorage--><rect codeLine="25" fill="#FEFECE" filter="url(#f1dkop5e6qamzg)" height="48" id="UARTStorage" style="stroke:#A80036;stroke-width:1.5;" width="107" x="18" y="157"/><ellipse cx="33" cy="173" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M35.7656,168.875 Q35.9219,168.6563 36.1094,168.5469 Q36.2969,168.4375 36.5156,168.4375 Q36.8906,168.4375 37.125,168.6953 Q37.3594,168.9531 37.3594,169.5625 L37.3594,171.0156 Q37.3594,171.625 37.125,171.8906 Q36.8906,172.1563 36.5156,172.1563 Q36.1719,172.1563 35.9688,171.9531 Q35.7656,171.7656 35.6563,171.25 Q35.6094,170.8906 35.4219,170.7031 Q35.0938,170.3281 34.4844,170.1094 Q33.875,169.8906 33.25,169.8906 Q32.4844,169.8906 31.8516,170.2188 Q31.2188,170.5469 30.7266,171.2969 Q30.2344,172.0469 30.2344,173.0781 L30.2344,174.1719 Q30.2344,175.4063 31.125,176.2266 Q32.0156,177.0469 33.6094,177.0469 Q34.5469,177.0469 35.2031,176.7969 Q35.5938,176.6406 36.0156,176.2031 Q36.2813,175.9375 36.4297,175.8594 Q36.5781,175.7813 36.7813,175.7813 Q37.1094,175.7813 37.3672,176.0391 Q37.625,176.2969 37.625,176.6406 Q37.625,176.9844 37.2813,177.3906 Q36.7813,177.9688 35.9844,178.2969 Q34.9063,178.75 33.6094,178.75 Q32.0938,178.75 30.8906,178.125 Q29.9063,177.625 29.2188,176.5547 Q28.5313,175.4844 28.5313,174.2031 L28.5313,173.0469 Q28.5313,171.7188 29.1484,170.5703 Q29.7656,169.4219 30.8594,168.8047 Q31.9531,168.1875 33.1875,168.1875 Q33.9219,168.1875 34.5703,168.3516 Q35.2188,168.5156 35.7656,168.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75" x="47" y="177.9102">UARTStorage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="19" x2="124" y1="189" y2="189"/><line style="stroke:#A80036;stroke-width:1.5;" x1="19" x2="124" y1="197" y2="197"/><!--MD5=[5dabd1a6e6389832061ac86dbbf44f08]
class WifiStorage--><rect codeLine="34" fill="#FEFECE" filter="url(#f1dkop5e6qamzg)" height="75.6719" id="WifiStorage" style="stroke:#A80036;stroke-width:1.5;" width="95" x="432" y="143"/><ellipse cx="447" cy="159" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M449.7656,154.875 Q449.9219,154.6563 450.1094,154.5469 Q450.2969,154.4375 450.5156,154.4375 Q450.8906,154.4375 451.125,154.6953 Q451.3594,154.9531 451.3594,155.5625 L451.3594,157.0156 Q451.3594,157.625 451.125,157.8906 Q450.8906,158.1563 450.5156,158.1563 Q450.1719,158.1563 449.9688,157.9531 Q449.7656,157.7656 449.6563,157.25 Q449.6094,156.8906 449.4219,156.7031 Q449.0938,156.3281 448.4844,156.1094 Q447.875,155.8906 447.25,155.8906 Q446.4844,155.8906 445.8516,156.2188 Q445.2188,156.5469 444.7266,157.2969 Q444.2344,158.0469 444.2344,159.0781 L444.2344,160.1719 Q444.2344,161.4063 445.125,162.2266 Q446.0156,163.0469 447.6094,163.0469 Q448.5469,163.0469 449.2031,162.7969 Q449.5938,162.6406 450.0156,162.2031 Q450.2813,161.9375 450.4297,161.8594 Q450.5781,161.7813 450.7813,161.7813 Q451.1094,161.7813 451.3672,162.0391 Q451.625,162.2969 451.625,162.6406 Q451.625,162.9844 451.2813,163.3906 Q450.7813,163.9688 449.9844,164.2969 Q448.9063,164.75 447.6094,164.75 Q446.0938,164.75 444.8906,164.125 Q443.9063,163.625 443.2188,162.5547 Q442.5313,161.4844 442.5313,160.2031 L442.5313,159.0469 Q442.5313,157.7188 443.1484,156.5703 Q443.7656,155.4219 444.8594,154.8047 Q445.9531,154.1875 447.1875,154.1875 Q447.9219,154.1875 448.5703,154.3516 Q449.2188,154.5156 449.7656,154.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="63" x="461" y="163.9102">WifiStorage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="433" x2="526" y1="175" y2="175"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="440" y="183"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="452" y="190.4189">login</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="440" y="196.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="452" y="204.2549">password</text><line style="stroke:#A80036;stroke-width:1.5;" x1="433" x2="526" y1="210.6719" y2="210.6719"/><path d="M160,151.5 L160,210.5547 A0,0 0 0 0 160,210.5547 L397,210.5547 A0,0 0 0 0 397,210.5547 L397,185 L431.84,181 L397,177 L397,161.5 L387,151.5 L160,151.5 A0,0 0 0 0 160,151.5 " fill="#FBFB77" filter="url(#f1dkop5e6qamzg)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M387,151.5 L387,161.5 L397,161.5 L387,151.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="166" y="169.9951">ESP8266MOD has only Wifi support.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="166" y="186.3467">In future it would be possible</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="166" y="202.6982">to use ESP32 that has also Bloototh.</text><!--MD5=[de27ec6bb9ae4d985ba3a8f3c8f525a7]
class SDCardDriver--><rect codeLine="40" fill="#FEFECE" filter="url(#f1dkop5e6qamzg)" height="158.6875" id="SDCardDriver" style="stroke:#A80036;stroke-width:1.5;" width="150" x="543.5" y="429"/><ellipse cx="577.4" cy="445" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M580.1656,440.875 Q580.3219,440.6563 580.5094,440.5469 Q580.6969,440.4375 580.9156,440.4375 Q581.2906,440.4375 581.525,440.6953 Q581.7594,440.9531 581.7594,441.5625 L581.7594,443.0156 Q581.7594,443.625 581.525,443.8906 Q581.2906,444.1563 580.9156,444.1563 Q580.5719,444.1563 580.3688,443.9531 Q580.1656,443.7656 580.0563,443.25 Q580.0094,442.8906 579.8219,442.7031 Q579.4938,442.3281 578.8844,442.1094 Q578.275,441.8906 577.65,441.8906 Q576.8844,441.8906 576.2516,442.2188 Q575.6188,442.5469 575.1266,443.2969 Q574.6344,444.0469 574.6344,445.0781 L574.6344,446.1719 Q574.6344,447.4063 575.525,448.2266 Q576.4156,449.0469 578.0094,449.0469 Q578.9469,449.0469 579.6031,448.7969 Q579.9938,448.6406 580.4156,448.2031 Q580.6813,447.9375 580.8297,447.8594 Q580.9781,447.7813 581.1813,447.7813 Q581.5094,447.7813 581.7672,448.0391 Q582.025,448.2969 582.025,448.6406 Q582.025,448.9844 581.6813,449.3906 Q581.1813,449.9688 580.3844,450.2969 Q579.3063,450.75 578.0094,450.75 Q576.4938,450.75 575.2906,450.125 Q574.3063,449.625 573.6188,448.5547 Q572.9313,447.4844 572.9313,446.2031 L572.9313,445.0469 Q572.9313,443.7188 573.5484,442.5703 Q574.1656,441.4219 575.2594,440.8047 Q576.3531,440.1875 577.5875,440.1875 Q578.3219,440.1875 578.9703,440.3516 Q579.6188,440.5156 580.1656,440.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="595.6" y="449.9102">SDCardDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="544.5" x2="692.5" y1="461" y2="461"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="551.5" y="469"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="563.5" y="476.4189">fileSystemHandler</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="551.5" y="482.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="67" x="563.5" y="490.2549">logFileHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="544.5" x2="692.5" y1="496.6719" y2="496.6719"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="551.5" y="504.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="563.5" y="512.0908">void mountFileSystem()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="551.5" y="518.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="124" x="563.5" y="525.9268">void unmountFileSystem()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="551.5" y="532.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71" x="563.5" y="539.7627">void openFile()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="551.5" y="546.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="563.5" y="553.5986">void closeFile()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="551.5" y="560.0156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="563.5" y="567.4346">void sync()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="551.5" y="573.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="563.5" y="581.2705">void writeToFile()</text><!--MD5=[474bed6931f6f2fe1a50ff8fcd1078a5]
class UARTStorageDriver--><rect codeLine="52" fill="#FEFECE" filter="url(#f1dkop5e6qamzg)" height="75.6719" id="UARTStorageDriver" style="stroke:#A80036;stroke-width:1.5;" width="139" x="85" y="470.5"/><ellipse cx="100" cy="486.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M102.7656,482.375 Q102.9219,482.1563 103.1094,482.0469 Q103.2969,481.9375 103.5156,481.9375 Q103.8906,481.9375 104.125,482.1953 Q104.3594,482.4531 104.3594,483.0625 L104.3594,484.5156 Q104.3594,485.125 104.125,485.3906 Q103.8906,485.6563 103.5156,485.6563 Q103.1719,485.6563 102.9688,485.4531 Q102.7656,485.2656 102.6563,484.75 Q102.6094,484.3906 102.4219,484.2031 Q102.0938,483.8281 101.4844,483.6094 Q100.875,483.3906 100.25,483.3906 Q99.4844,483.3906 98.8516,483.7188 Q98.2188,484.0469 97.7266,484.7969 Q97.2344,485.5469 97.2344,486.5781 L97.2344,487.6719 Q97.2344,488.9063 98.125,489.7266 Q99.0156,490.5469 100.6094,490.5469 Q101.5469,490.5469 102.2031,490.2969 Q102.5938,490.1406 103.0156,489.7031 Q103.2813,489.4375 103.4297,489.3594 Q103.5781,489.2813 103.7813,489.2813 Q104.1094,489.2813 104.3672,489.5391 Q104.625,489.7969 104.625,490.1406 Q104.625,490.4844 104.2813,490.8906 Q103.7813,491.4688 102.9844,491.7969 Q101.9063,492.25 100.6094,492.25 Q99.0938,492.25 97.8906,491.625 Q96.9063,491.125 96.2188,490.0547 Q95.5313,488.9844 95.5313,487.7031 L95.5313,486.5469 Q95.5313,485.2188 96.1484,484.0703 Q96.7656,482.9219 97.8594,482.3047 Q98.9531,481.6875 100.1875,481.6875 Q100.9219,481.6875 101.5703,481.8516 Q102.2188,482.0156 102.7656,482.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="107" x="114" y="491.4102">UARTStorageDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="86" x2="223" y1="502.5" y2="502.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="86" x2="223" y1="510.5" y2="510.5"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="93" y="518.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="105" y="525.9189">void open()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="93" y="532.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="105" y="539.7549">void close()</text><!--MD5=[10fbacbf49dc8825ca30de4badcc4d10]
class UARTDriverConfig--><rect codeLine="67" fill="#FEFECE" filter="url(#f1dkop5e6qamzg)" height="61.8359" id="UARTDriverConfig" style="stroke:#A80036;stroke-width:1.5;" width="132" x="76.5" y="662"/><ellipse cx="91.5" cy="678" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M94.2656,673.875 Q94.4219,673.6563 94.6094,673.5469 Q94.7969,673.4375 95.0156,673.4375 Q95.3906,673.4375 95.625,673.6953 Q95.8594,673.9531 95.8594,674.5625 L95.8594,676.0156 Q95.8594,676.625 95.625,676.8906 Q95.3906,677.1563 95.0156,677.1563 Q94.6719,677.1563 94.4688,676.9531 Q94.2656,676.7656 94.1563,676.25 Q94.1094,675.8906 93.9219,675.7031 Q93.5938,675.3281 92.9844,675.1094 Q92.375,674.8906 91.75,674.8906 Q90.9844,674.8906 90.3516,675.2188 Q89.7188,675.5469 89.2266,676.2969 Q88.7344,677.0469 88.7344,678.0781 L88.7344,679.1719 Q88.7344,680.4063 89.625,681.2266 Q90.5156,682.0469 92.1094,682.0469 Q93.0469,682.0469 93.7031,681.7969 Q94.0938,681.6406 94.5156,681.2031 Q94.7813,680.9375 94.9297,680.8594 Q95.0781,680.7813 95.2813,680.7813 Q95.6094,680.7813 95.8672,681.0391 Q96.125,681.2969 96.125,681.6406 Q96.125,681.9844 95.7813,682.3906 Q95.2813,682.9688 94.4844,683.2969 Q93.4063,683.75 92.1094,683.75 Q90.5938,683.75 89.3906,683.125 Q88.4063,682.625 87.7188,681.5547 Q87.0313,680.4844 87.0313,679.2031 L87.0313,678.0469 Q87.0313,676.7188 87.6484,675.5703 Q88.2656,674.4219 89.3594,673.8047 Q90.4531,673.1875 91.6875,673.1875 Q92.4219,673.1875 93.0703,673.3516 Q93.7188,673.5156 94.2656,673.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="100" x="105.5" y="682.9102">UARTDriverConfig</text><line style="stroke:#A80036;stroke-width:1.5;" x1="77.5" x2="207.5" y1="694" y2="694"/><ellipse cx="87.5" cy="705" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="96.5" y="709.4189">UARTHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="77.5" x2="207.5" y1="715.8359" y2="715.8359"/><path d="M6,798 L6,938.8125 A0,0 0 0 0 6,938.8125 L267,938.8125 A0,0 0 0 0 267,938.8125 L267,808 L257,798 L142.91,798 L141.45,724.22 L134.91,798 L6,798 A0,0 0 0 0 6,798 " fill="#FBFB77" filter="url(#f1dkop5e6qamzg)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M257,798 L257,808 L267,808 L257,798 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="12" y="816.4951">On embedded systems, there is no such</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="12" y="832.8467">identifier as COMx for serial port</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="12" y="849.1982">(in contrary to e.g Windows or Linux).</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="12" y="865.5498">The config is added as a simple way</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="12" y="881.9014">to hide this low level thing from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="12" y="898.2529">high level UARTDriver. I didn't want</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="12" y="914.6045">to hardcode the UART device handler</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="12" y="930.9561">in the driver.</text><!--MD5=[20f746540be94bb88eafd071c2d57044]
class WifiDriver--><rect codeLine="76" fill="#FEFECE" filter="url(#f1dkop5e6qamzg)" height="75.6719" id="WifiDriver" style="stroke:#A80036;stroke-width:1.5;" width="110" x="290.5" y="286"/><ellipse cx="317.2" cy="302" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M319.9656,297.875 Q320.1219,297.6563 320.3094,297.5469 Q320.4969,297.4375 320.7156,297.4375 Q321.0906,297.4375 321.325,297.6953 Q321.5594,297.9531 321.5594,298.5625 L321.5594,300.0156 Q321.5594,300.625 321.325,300.8906 Q321.0906,301.1563 320.7156,301.1563 Q320.3719,301.1563 320.1688,300.9531 Q319.9656,300.7656 319.8563,300.25 Q319.8094,299.8906 319.6219,299.7031 Q319.2938,299.3281 318.6844,299.1094 Q318.075,298.8906 317.45,298.8906 Q316.6844,298.8906 316.0516,299.2188 Q315.4188,299.5469 314.9266,300.2969 Q314.4344,301.0469 314.4344,302.0781 L314.4344,303.1719 Q314.4344,304.4063 315.325,305.2266 Q316.2156,306.0469 317.8094,306.0469 Q318.7469,306.0469 319.4031,305.7969 Q319.7938,305.6406 320.2156,305.2031 Q320.4813,304.9375 320.6297,304.8594 Q320.7781,304.7813 320.9813,304.7813 Q321.3094,304.7813 321.5672,305.0391 Q321.825,305.2969 321.825,305.6406 Q321.825,305.9844 321.4813,306.3906 Q320.9813,306.9688 320.1844,307.2969 Q319.1063,307.75 317.8094,307.75 Q316.2938,307.75 315.0906,307.125 Q314.1063,306.625 313.4188,305.5547 Q312.7313,304.4844 312.7313,303.2031 L312.7313,302.0469 Q312.7313,300.7188 313.3484,299.5703 Q313.9656,298.4219 315.0594,297.8047 Q316.1531,297.1875 317.3875,297.1875 Q318.1219,297.1875 318.7703,297.3516 Q319.4188,297.5156 319.9656,297.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="333.8" y="306.9102">WifiDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="291.5" x2="399.5" y1="318" y2="318"/><line style="stroke:#A80036;stroke-width:1.5;" x1="291.5" x2="399.5" y1="326" y2="326"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="298.5" y="334"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="310.5" y="341.4189">void connect()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="298.5" y="347.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="310.5" y="355.2549">void disconnect()</text><path d="M259,487 L259,529.7031 A0,0 0 0 0 259,529.7031 L432,529.7031 A0,0 0 0 0 432,529.7031 L432,497 L422,487 L349.5,487 L345.5,362.37 L341.5,487 L259,487 A0,0 0 0 0 259,487 " fill="#FBFB77" filter="url(#f1dkop5e6qamzg)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M422,487 L422,497 L432,497 L422,487 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="265" y="505.4951">Communication with WiFi</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="265" y="521.8467">module is done via UART</text><!--MD5=[123a1d09c24313992a8650e1506f75a8]
class UARTDriver--><rect codeLine="81" fill="#FEFECE" filter="url(#f1dkop5e6qamzg)" height="48" id="UARTDriver" style="stroke:#A80036;stroke-width:1.5;" width="96" x="271.5" y="669"/><ellipse cx="286.5" cy="685" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M289.2656,680.875 Q289.4219,680.6563 289.6094,680.5469 Q289.7969,680.4375 290.0156,680.4375 Q290.3906,680.4375 290.625,680.6953 Q290.8594,680.9531 290.8594,681.5625 L290.8594,683.0156 Q290.8594,683.625 290.625,683.8906 Q290.3906,684.1563 290.0156,684.1563 Q289.6719,684.1563 289.4688,683.9531 Q289.2656,683.7656 289.1563,683.25 Q289.1094,682.8906 288.9219,682.7031 Q288.5938,682.3281 287.9844,682.1094 Q287.375,681.8906 286.75,681.8906 Q285.9844,681.8906 285.3516,682.2188 Q284.7188,682.5469 284.2266,683.2969 Q283.7344,684.0469 283.7344,685.0781 L283.7344,686.1719 Q283.7344,687.4063 284.625,688.2266 Q285.5156,689.0469 287.1094,689.0469 Q288.0469,689.0469 288.7031,688.7969 Q289.0938,688.6406 289.5156,688.2031 Q289.7813,687.9375 289.9297,687.8594 Q290.0781,687.7813 290.2813,687.7813 Q290.6094,687.7813 290.8672,688.0391 Q291.125,688.2969 291.125,688.6406 Q291.125,688.9844 290.7813,689.3906 Q290.2813,689.9688 289.4844,690.2969 Q288.4063,690.75 287.1094,690.75 Q285.5938,690.75 284.3906,690.125 Q283.4063,689.625 282.7188,688.5547 Q282.0313,687.4844 282.0313,686.2031 L282.0313,685.0469 Q282.0313,683.7188 282.6484,682.5703 Q283.2656,681.4219 284.3594,680.8047 Q285.4531,680.1875 286.6875,680.1875 Q287.4219,680.1875 288.0703,680.3516 Q288.7188,680.5156 289.2656,680.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="64" x="300.5" y="689.9102">UARTDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="272.5" x2="366.5" y1="701" y2="701"/><line style="stroke:#A80036;stroke-width:1.5;" x1="272.5" x2="366.5" y1="709" y2="709"/><!--MD5=[5ad4cd9c7bfe258d69f010f77acf2a05]
class IUARTDriver--><rect codeLine="85" fill="#FEFECE" filter="url(#f1dkop5e6qamzg)" height="103.3438" id="IUARTDriver" style="stroke:#A80036;stroke-width:1.5;" width="102" x="302.5" y="817"/><ellipse cx="317.5" cy="833" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M318.4531,829.6406 L318.4531,836.2969 L320.1719,836.2969 Q320.7813,836.2969 321.0469,836.5313 Q321.3125,836.7656 321.3125,837.1563 Q321.3125,837.5313 321.0469,837.7656 Q320.7813,838 320.1719,838 L315.0313,838 Q314.4219,838 314.1563,837.7656 Q313.8906,837.5313 313.8906,837.1406 Q313.8906,836.7656 314.1563,836.5313 Q314.4219,836.2969 315.0313,836.2969 L316.75,836.2969 L316.75,829.6406 L315.0313,829.6406 Q314.4219,829.6406 314.1563,829.4063 Q313.8906,829.1719 313.8906,828.7813 Q313.8906,828.4063 314.1563,828.1719 Q314.4219,827.9375 315.0313,827.9375 L320.1719,827.9375 Q320.7813,827.9375 321.0469,828.1719 Q321.3125,828.4063 321.3125,828.7813 Q321.3125,829.1719 321.0469,829.4063 Q320.7813,829.6406 320.1719,829.6406 L318.4531,829.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="70" x="331.5" y="837.9102">IUARTDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="303.5" x2="403.5" y1="849" y2="849"/><line style="stroke:#A80036;stroke-width:1.5;" x1="303.5" x2="403.5" y1="857" y2="857"/><ellipse cx="313.5" cy="868" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="322.5" y="872.4189">void open()</text><ellipse cx="313.5" cy="881.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="322.5" y="886.2549">void close()</text><ellipse cx="313.5" cy="895.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="322.5" y="900.0908">void read()</text><ellipse cx="313.5" cy="909.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="322.5" y="913.9268">void write()</text><!--MD5=[c16d6aa305fa10d54aee669eb56a562b]
link UARTDriver to IUARTDriver--><path codeLine="92" d="M324.01,717.04 C328.03,737.54 334.12,768.61 339.72,797.21 " fill="none" id="UARTDriver-to-IUARTDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="346.61,795.95,343.59,816.92,332.87,798.64,346.61,795.95" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0c3f5be8723dc34fa10cb51fc7d449dd]
reverse link UARTStorageDriver to UARTDriver--><path codeLine="93" d="M197.16,556.68 C229.71,592.69 273.16,640.74 298.55,668.83 " fill="none" id="UARTStorageDriver-backto-UARTDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="188.29,546.87,189.351,554.0026,196.343,555.7666,195.282,548.6339,188.29,546.87" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7de8398d00877e507ad41a6047a3e2b0]
reverse link StoragesContainer to SDCardStorage--><path codeLine="95" d="M528.67,92.4 C548.76,111.35 571.42,132.74 589.33,149.64 " fill="none" id="StoragesContainer-backto-SDCardStorage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="519.05,83.33,520.6724,90.3562,527.7822,91.561,526.1598,84.5347,519.05,83.33" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[278eb68ce087738c48779b563fd677ec]
reverse link StoragesContainer to UARTStorage--><path codeLine="96" d="M398.39,64.5 C329.16,81.42 227.61,108.97 142.5,143 C132.56,146.97 122.18,151.9 112.52,156.86 " fill="none" id="StoragesContainer-backto-UARTStorage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="411.35,61.36,404.5779,58.8823,399.6862,64.1804,406.4582,66.6582,411.35,61.36" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[be86c472081707a0253ecbf8508ad3de]
reverse link StoragesContainer to WifiStorage--><path codeLine="97" d="M479.5,96.46 C479.5,111.87 479.5,128.52 479.5,142.87 " fill="none" id="StoragesContainer-backto-WifiStorage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="479.5,83.33,475.5,89.33,479.5,95.33,483.5,89.33,479.5,83.33" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e27c2e999f892a98a02425e0c3e688d9]
link WifiStorage to IStorageIO--><path codeLine="101" d="M480.03,219.05 C480.2,231.24 480.4,245.17 480.59,258.78 " fill="none" id="WifiStorage-to-IStorageIO" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="487.59,258.84,480.87,278.93,473.59,259.03,487.59,258.84" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[46d2411870dec9150d07e93ab9a25cd6]
link SDCardStorage to IStorageIO--><path codeLine="102" d="M591.47,212.25 C576.33,227.5 557.44,246.52 539.6,264.48 " fill="none" id="SDCardStorage-to-IStorageIO" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="544.36,269.62,525.3,278.88,534.43,259.76,544.36,269.62" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ded591c8b5adf0f4343619ad341c6536]
link UARTStorage to IStorageIO--><path codeLine="103" d="M111.21,205.05 C121.19,210.18 132.04,215.22 142.5,219 C254.78,259.63 299.09,231.79 416.54,279.71 " fill="none" id="UARTStorage-to-IStorageIO" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="419.59,273.4,435.22,287.71,414.08,286.27,419.59,273.4" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[48058f3d815138c6bfd7cb462eb5e4eb]
reverse link UARTStorage to UARTStorageDriver--><path codeLine="105" d="M80.71,218.12 C96.6,280.43 129,407.5 145.05,470.45 " fill="none" id="UARTStorage-backto-UARTStorageDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="77.4,205.15,75.0091,211.9532,80.3694,216.7768,82.7603,209.9736,77.4,205.15" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[24ea1a3a1c99c02c467f2545e0ecae49]
reverse link SDCardStorage to SDCardDriver--><path codeLine="106" d="M621.1,225.35 C620.62,277.21 619.81,365.03 619.22,428.94 " fill="none" id="SDCardStorage-backto-SDCardDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="621.22,212.04,617.1674,218.0046,621.1145,224.0395,625.1671,218.0749,621.22,212.04" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2dc7e96a9887d6a9972754472472160a]
reverse link WifiStorage to WifiDriver--><path codeLine="107" d="M435.31,228.5 C417.66,247.07 397.61,268.17 380.94,285.71 " fill="none" id="WifiStorage-backto-WifiDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="444.29,219.05,437.2588,220.6506,436.0319,227.7566,443.0632,226.156,444.29,219.05" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[490bc86ac7b0803432b8af5cb7ab5df2]
link SDCardDriver to IStorageDriver--><path codeLine="109" d="M561.13,588.22 C550.53,602.76 539.62,617.73 529.5,631.62 " fill="none" id="SDCardDriver-to-IStorageDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="535.05,635.89,517.62,647.93,523.74,627.64,535.05,635.89" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f2f99f39a22ea476b85968025f790254]
link UARTStorageDriver to IStorageDriver--><path codeLine="110" d="M190.34,546.89 C205.23,561.02 223.28,576.46 241.5,588 C300.08,625.09 321.77,620.7 385.5,648 C393.72,651.52 402.29,655.23 410.82,658.95 " fill="none" id="UARTStorageDriver-to-IStorageDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="413.75,652.59,429.26,667.02,408.13,665.41,413.75,652.59" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f75aa50b865b0718b3b967a088c3ae2e]
link WifiDriver to IStorageDriver--><path codeLine="111" d="M394.86,362.14 C415.1,380.07 436.73,403.27 449.5,429 C480.5,491.46 487.43,571.95 487.92,627.34 " fill="none" id="WifiDriver-to-IStorageDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="494.92,627.65,487.82,647.62,480.92,627.58,494.92,627.65" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[51df14ea5dc5b39be42bec6bfd69328b]
reverse link WifiDriver to UARTStorageDriver--><path codeLine="113" d="M296.74,371.59 C264.61,402.29 223.1,441.95 193.23,470.49 " fill="none" id="WifiDriver-backto-UARTStorageDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="306.39,362.37,299.2889,363.6246,297.7157,370.662,304.8169,369.4074,306.39,362.37" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[59ca48e53df767fba1f570ccd44d351a]
reverse link UARTStorageDriver to UARTDriverConfig--><path codeLine="115" d="M151.19,559.85 C149.04,592.6 146.3,634.22 144.48,661.92 " fill="none" id="UARTStorageDriver-backto-UARTDriverConfig" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="152.04,546.87,147.6594,552.598,151.2619,558.8447,155.6425,553.1167,152.04,546.87" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5fc3ca0a79024eea9f697906795731df]
@startuml

class StoragesContainer {
    +void init()
    +void configure()
}



interface IStorageIO {
    +void init()
    +void deinit()
    +void write()
}

interface IStorageDriver {
    +void init()
    +void deinit()
    +void write()
}

class SDCardStorage {
    -fileName
}

class UARTStorage {
}

note left of WifiStorage
ESP8266MOD has only Wifi support.
In future it would be possible 
to use ESP32 that has also Bloototh.
end note

class WifiStorage {
    -login
    -password
}


class SDCardDriver {
    -void mountFileSystem()
    -void unmountFileSystem()
    -void openFile()
    -void closeFile()
    -void sync()
    -void writeToFile()

    - fileSystemHandler
    - logFileHandler
}

class UARTStorageDriver {
    -void open()
    -void close()
}

note bottom of UARTDriverConfig
On embedded systems, there is no such 
identifier as COMx for serial port 
(in contrary to e.g Windows or Linux).
The config is added as a simple way
to hide this low level thing from 
high level UARTDriver. I didn't want
to hardcode the UART device handler
in the driver.
end note
class UARTDriverConfig {
    +UARTHandler
}

note bottom of WifiDriver
Communication with WiFi 
module is done via UART
end note

class WifiDriver {
    -void connect()
    -void disconnect()
}

class UARTDriver {

}

interface IUARTDriver {
    +void open()
    +void close()
    +void read()
    +void write()
}

UARTDriver - -|> IUARTDriver
UARTStorageDriver o- - UARTDriver

StoragesContainer *- - SDCardStorage
StoragesContainer *- - UARTStorage
StoragesContainer *- - WifiStorage



WifiStorage - -|> IStorageIO
SDCardStorage - -|> IStorageIO
UARTStorage- -|> IStorageIO

UARTStorage o- - UARTStorageDriver
SDCardStorage *- - SDCardDriver
WifiStorage *- - WifiDriver

SDCardDriver - -|> IStorageDriver
UARTStorageDriver - -|> IStorageDriver
WifiDriver - -|> IStorageDriver

WifiDriver o- - UARTStorageDriver

UARTStorageDriver *- - UARTDriverConfig

@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1250
Language: pl
Country: PL
--></g></svg>