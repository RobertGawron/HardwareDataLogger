<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="797px" preserveAspectRatio="none" style="width:819px;height:797px;background:#FFFFFF;" version="1.1" viewBox="0 0 819 797" width="819px" zoomAndPan="magnify"><defs><filter height="300%" id="f1gbxoyxn9ice4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[45a0bc03ebf70602769dbf80803c9ff5]
class StoragesContainer--><rect codeLine="2" fill="#FEFECE" filter="url(#f1gbxoyxn9ice4)" height="75.6719" id="StoragesContainer" style="stroke:#A80036;stroke-width:1.5;" width="136" x="399.5" y="7"/><ellipse cx="414.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M417.2656,18.875 Q417.4219,18.6563 417.6094,18.5469 Q417.7969,18.4375 418.0156,18.4375 Q418.3906,18.4375 418.625,18.6953 Q418.8594,18.9531 418.8594,19.5625 L418.8594,21.0156 Q418.8594,21.625 418.625,21.8906 Q418.3906,22.1563 418.0156,22.1563 Q417.6719,22.1563 417.4688,21.9531 Q417.2656,21.7656 417.1563,21.25 Q417.1094,20.8906 416.9219,20.7031 Q416.5938,20.3281 415.9844,20.1094 Q415.375,19.8906 414.75,19.8906 Q413.9844,19.8906 413.3516,20.2188 Q412.7188,20.5469 412.2266,21.2969 Q411.7344,22.0469 411.7344,23.0781 L411.7344,24.1719 Q411.7344,25.4063 412.625,26.2266 Q413.5156,27.0469 415.1094,27.0469 Q416.0469,27.0469 416.7031,26.7969 Q417.0938,26.6406 417.5156,26.2031 Q417.7813,25.9375 417.9297,25.8594 Q418.0781,25.7813 418.2813,25.7813 Q418.6094,25.7813 418.8672,26.0391 Q419.125,26.2969 419.125,26.6406 Q419.125,26.9844 418.7813,27.3906 Q418.2813,27.9688 417.4844,28.2969 Q416.4063,28.75 415.1094,28.75 Q413.5938,28.75 412.3906,28.125 Q411.4063,27.625 410.7188,26.5547 Q410.0313,25.4844 410.0313,24.2031 L410.0313,23.0469 Q410.0313,21.7188 410.6484,20.5703 Q411.2656,19.4219 412.3594,18.8047 Q413.4531,18.1875 414.6875,18.1875 Q415.4219,18.1875 416.0703,18.3516 Q416.7188,18.5156 417.2656,18.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104" x="428.5" y="27.9102">StoragesContainer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="400.5" x2="534.5" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="400.5" x2="534.5" y1="47" y2="47"/><ellipse cx="410.5" cy="58" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="419.5" y="62.4189">void init()</text><ellipse cx="410.5" cy="71.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="419.5" y="76.2549">void configure()</text><!--MD5=[84e821c306fe4d51c0d081569378114b]
class IStorageIO--><rect codeLine="9" fill="#FEFECE" filter="url(#f1gbxoyxn9ice4)" height="89.5078" id="IStorageIO" style="stroke:#A80036;stroke-width:1.5;" width="92" x="504.5" y="313.5"/><ellipse cx="519.5" cy="329.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M520.4531,326.1406 L520.4531,332.7969 L522.1719,332.7969 Q522.7813,332.7969 523.0469,333.0313 Q523.3125,333.2656 523.3125,333.6563 Q523.3125,334.0313 523.0469,334.2656 Q522.7813,334.5 522.1719,334.5 L517.0313,334.5 Q516.4219,334.5 516.1563,334.2656 Q515.8906,334.0313 515.8906,333.6406 Q515.8906,333.2656 516.1563,333.0313 Q516.4219,332.7969 517.0313,332.7969 L518.75,332.7969 L518.75,326.1406 L517.0313,326.1406 Q516.4219,326.1406 516.1563,325.9063 Q515.8906,325.6719 515.8906,325.2813 Q515.8906,324.9063 516.1563,324.6719 Q516.4219,324.4375 517.0313,324.4375 L522.1719,324.4375 Q522.7813,324.4375 523.0469,324.6719 Q523.3125,324.9063 523.3125,325.2813 Q523.3125,325.6719 523.0469,325.9063 Q522.7813,326.1406 522.1719,326.1406 L520.4531,326.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="60" x="533.5" y="334.4102">IStorageIO</text><line style="stroke:#A80036;stroke-width:1.5;" x1="505.5" x2="595.5" y1="345.5" y2="345.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="505.5" x2="595.5" y1="353.5" y2="353.5"/><ellipse cx="515.5" cy="364.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="524.5" y="368.9189">void init()</text><ellipse cx="515.5" cy="378.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="524.5" y="382.7549">void deinit()</text><ellipse cx="515.5" cy="392.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="524.5" y="396.5908">void write()</text><!--MD5=[55cf75b686679030a2cc053f7a18829b]
class IStorageDriver--><rect codeLine="15" fill="#FEFECE" filter="url(#f1gbxoyxn9ice4)" height="89.5078" id="IStorageDriver" style="stroke:#A80036;stroke-width:1.5;" width="112" x="338.5" y="498"/><ellipse cx="353.5" cy="514" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M354.4531,510.6406 L354.4531,517.2969 L356.1719,517.2969 Q356.7813,517.2969 357.0469,517.5313 Q357.3125,517.7656 357.3125,518.1563 Q357.3125,518.5313 357.0469,518.7656 Q356.7813,519 356.1719,519 L351.0313,519 Q350.4219,519 350.1563,518.7656 Q349.8906,518.5313 349.8906,518.1406 Q349.8906,517.7656 350.1563,517.5313 Q350.4219,517.2969 351.0313,517.2969 L352.75,517.2969 L352.75,510.6406 L351.0313,510.6406 Q350.4219,510.6406 350.1563,510.4063 Q349.8906,510.1719 349.8906,509.7813 Q349.8906,509.4063 350.1563,509.1719 Q350.4219,508.9375 351.0313,508.9375 L356.1719,508.9375 Q356.7813,508.9375 357.0469,509.1719 Q357.3125,509.4063 357.3125,509.7813 Q357.3125,510.1719 357.0469,510.4063 Q356.7813,510.6406 356.1719,510.6406 L354.4531,510.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="80" x="367.5" y="518.9102">IStorageDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="339.5" x2="449.5" y1="530" y2="530"/><line style="stroke:#A80036;stroke-width:1.5;" x1="339.5" x2="449.5" y1="538" y2="538"/><ellipse cx="349.5" cy="549" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="358.5" y="553.4189">void init()</text><ellipse cx="349.5" cy="562.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="358.5" y="567.2549">void deinit()</text><ellipse cx="349.5" cy="576.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="358.5" y="581.0908">void write()</text><!--MD5=[7db34624215397195264460eca68bfc7]
class SDCardStorage--><rect codeLine="21" fill="#FEFECE" filter="url(#f1gbxoyxn9ice4)" height="61.8359" id="SDCardStorage" style="stroke:#A80036;stroke-width:1.5;" width="119" x="408" y="150"/><ellipse cx="423" cy="166" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M425.7656,161.875 Q425.9219,161.6563 426.1094,161.5469 Q426.2969,161.4375 426.5156,161.4375 Q426.8906,161.4375 427.125,161.6953 Q427.3594,161.9531 427.3594,162.5625 L427.3594,164.0156 Q427.3594,164.625 427.125,164.8906 Q426.8906,165.1563 426.5156,165.1563 Q426.1719,165.1563 425.9688,164.9531 Q425.7656,164.7656 425.6563,164.25 Q425.6094,163.8906 425.4219,163.7031 Q425.0938,163.3281 424.4844,163.1094 Q423.875,162.8906 423.25,162.8906 Q422.4844,162.8906 421.8516,163.2188 Q421.2188,163.5469 420.7266,164.2969 Q420.2344,165.0469 420.2344,166.0781 L420.2344,167.1719 Q420.2344,168.4063 421.125,169.2266 Q422.0156,170.0469 423.6094,170.0469 Q424.5469,170.0469 425.2031,169.7969 Q425.5938,169.6406 426.0156,169.2031 Q426.2813,168.9375 426.4297,168.8594 Q426.5781,168.7813 426.7813,168.7813 Q427.1094,168.7813 427.3672,169.0391 Q427.625,169.2969 427.625,169.6406 Q427.625,169.9844 427.2813,170.3906 Q426.7813,170.9688 425.9844,171.2969 Q424.9063,171.75 423.6094,171.75 Q422.0938,171.75 420.8906,171.125 Q419.9063,170.625 419.2188,169.5547 Q418.5313,168.4844 418.5313,167.2031 L418.5313,166.0469 Q418.5313,164.7188 419.1484,163.5703 Q419.7656,162.4219 420.8594,161.8047 Q421.9531,161.1875 423.1875,161.1875 Q423.9219,161.1875 424.5703,161.3516 Q425.2188,161.5156 425.7656,161.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="87" x="437" y="170.9102">SDCardStorage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="409" x2="526" y1="182" y2="182"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="416" y="190"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="428" y="197.4189">fileName</text><line style="stroke:#A80036;stroke-width:1.5;" x1="409" x2="526" y1="203.8359" y2="203.8359"/><!--MD5=[593d588e1c6f1d7ea50db6f5126e276f]
class UARTStorage--><rect codeLine="25" fill="#FEFECE" filter="url(#f1gbxoyxn9ice4)" height="48" id="UARTStorage" style="stroke:#A80036;stroke-width:1.5;" width="107" x="562" y="157"/><ellipse cx="577" cy="173" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M579.7656,168.875 Q579.9219,168.6563 580.1094,168.5469 Q580.2969,168.4375 580.5156,168.4375 Q580.8906,168.4375 581.125,168.6953 Q581.3594,168.9531 581.3594,169.5625 L581.3594,171.0156 Q581.3594,171.625 581.125,171.8906 Q580.8906,172.1563 580.5156,172.1563 Q580.1719,172.1563 579.9688,171.9531 Q579.7656,171.7656 579.6563,171.25 Q579.6094,170.8906 579.4219,170.7031 Q579.0938,170.3281 578.4844,170.1094 Q577.875,169.8906 577.25,169.8906 Q576.4844,169.8906 575.8516,170.2188 Q575.2188,170.5469 574.7266,171.2969 Q574.2344,172.0469 574.2344,173.0781 L574.2344,174.1719 Q574.2344,175.4063 575.125,176.2266 Q576.0156,177.0469 577.6094,177.0469 Q578.5469,177.0469 579.2031,176.7969 Q579.5938,176.6406 580.0156,176.2031 Q580.2813,175.9375 580.4297,175.8594 Q580.5781,175.7813 580.7813,175.7813 Q581.1094,175.7813 581.3672,176.0391 Q581.625,176.2969 581.625,176.6406 Q581.625,176.9844 581.2813,177.3906 Q580.7813,177.9688 579.9844,178.2969 Q578.9063,178.75 577.6094,178.75 Q576.0938,178.75 574.8906,178.125 Q573.9063,177.625 573.2188,176.5547 Q572.5313,175.4844 572.5313,174.2031 L572.5313,173.0469 Q572.5313,171.7188 573.1484,170.5703 Q573.7656,169.4219 574.8594,168.8047 Q575.9531,168.1875 577.1875,168.1875 Q577.9219,168.1875 578.5703,168.3516 Q579.2188,168.5156 579.7656,168.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75" x="591" y="177.9102">UARTStorage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="563" x2="668" y1="189" y2="189"/><line style="stroke:#A80036;stroke-width:1.5;" x1="563" x2="668" y1="197" y2="197"/><!--MD5=[5dabd1a6e6389832061ac86dbbf44f08]
class WifiStorage--><rect codeLine="34" fill="#FEFECE" filter="url(#f1gbxoyxn9ice4)" height="75.6719" id="WifiStorage" style="stroke:#A80036;stroke-width:1.5;" width="95" x="278" y="143"/><ellipse cx="293" cy="159" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M295.7656,154.875 Q295.9219,154.6563 296.1094,154.5469 Q296.2969,154.4375 296.5156,154.4375 Q296.8906,154.4375 297.125,154.6953 Q297.3594,154.9531 297.3594,155.5625 L297.3594,157.0156 Q297.3594,157.625 297.125,157.8906 Q296.8906,158.1563 296.5156,158.1563 Q296.1719,158.1563 295.9688,157.9531 Q295.7656,157.7656 295.6563,157.25 Q295.6094,156.8906 295.4219,156.7031 Q295.0938,156.3281 294.4844,156.1094 Q293.875,155.8906 293.25,155.8906 Q292.4844,155.8906 291.8516,156.2188 Q291.2188,156.5469 290.7266,157.2969 Q290.2344,158.0469 290.2344,159.0781 L290.2344,160.1719 Q290.2344,161.4063 291.125,162.2266 Q292.0156,163.0469 293.6094,163.0469 Q294.5469,163.0469 295.2031,162.7969 Q295.5938,162.6406 296.0156,162.2031 Q296.2813,161.9375 296.4297,161.8594 Q296.5781,161.7813 296.7813,161.7813 Q297.1094,161.7813 297.3672,162.0391 Q297.625,162.2969 297.625,162.6406 Q297.625,162.9844 297.2813,163.3906 Q296.7813,163.9688 295.9844,164.2969 Q294.9063,164.75 293.6094,164.75 Q292.0938,164.75 290.8906,164.125 Q289.9063,163.625 289.2188,162.5547 Q288.5313,161.4844 288.5313,160.2031 L288.5313,159.0469 Q288.5313,157.7188 289.1484,156.5703 Q289.7656,155.4219 290.8594,154.8047 Q291.9531,154.1875 293.1875,154.1875 Q293.9219,154.1875 294.5703,154.3516 Q295.2188,154.5156 295.7656,154.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="63" x="307" y="163.9102">WifiStorage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="372" y1="175" y2="175"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="286" y="183"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="298" y="190.4189">login</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="286" y="196.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="298" y="204.2549">password</text><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="372" y1="210.6719" y2="210.6719"/><path d="M6,151.5 L6,210.5547 A0,0 0 0 0 6,210.5547 L243,210.5547 A0,0 0 0 0 243,210.5547 L243,185 L277.84,181 L243,177 L243,161.5 L233,151.5 L6,151.5 A0,0 0 0 0 6,151.5 " fill="#FBFB77" filter="url(#f1gbxoyxn9ice4)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M233,151.5 L233,161.5 L243,161.5 L233,151.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="12" y="169.9951">ESP8266MOD has only Wifi support.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="12" y="186.3467">In future it would be possible</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="12" y="202.6982">to use ESP32 that has also Bloototh.</text><!--MD5=[de27ec6bb9ae4d985ba3a8f3c8f525a7]
class SDCardDriver--><rect codeLine="40" fill="#FEFECE" filter="url(#f1gbxoyxn9ice4)" height="158.6875" id="SDCardDriver" style="stroke:#A80036;stroke-width:1.5;" width="150" x="319.5" y="279"/><ellipse cx="353.4" cy="295" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M356.1656,290.875 Q356.3219,290.6563 356.5094,290.5469 Q356.6969,290.4375 356.9156,290.4375 Q357.2906,290.4375 357.525,290.6953 Q357.7594,290.9531 357.7594,291.5625 L357.7594,293.0156 Q357.7594,293.625 357.525,293.8906 Q357.2906,294.1563 356.9156,294.1563 Q356.5719,294.1563 356.3688,293.9531 Q356.1656,293.7656 356.0563,293.25 Q356.0094,292.8906 355.8219,292.7031 Q355.4938,292.3281 354.8844,292.1094 Q354.275,291.8906 353.65,291.8906 Q352.8844,291.8906 352.2516,292.2188 Q351.6188,292.5469 351.1266,293.2969 Q350.6344,294.0469 350.6344,295.0781 L350.6344,296.1719 Q350.6344,297.4063 351.525,298.2266 Q352.4156,299.0469 354.0094,299.0469 Q354.9469,299.0469 355.6031,298.7969 Q355.9938,298.6406 356.4156,298.2031 Q356.6813,297.9375 356.8297,297.8594 Q356.9781,297.7813 357.1813,297.7813 Q357.5094,297.7813 357.7672,298.0391 Q358.025,298.2969 358.025,298.6406 Q358.025,298.9844 357.6813,299.3906 Q357.1813,299.9688 356.3844,300.2969 Q355.3063,300.75 354.0094,300.75 Q352.4938,300.75 351.2906,300.125 Q350.3063,299.625 349.6188,298.5547 Q348.9313,297.4844 348.9313,296.2031 L348.9313,295.0469 Q348.9313,293.7188 349.5484,292.5703 Q350.1656,291.4219 351.2594,290.8047 Q352.3531,290.1875 353.5875,290.1875 Q354.3219,290.1875 354.9703,290.3516 Q355.6188,290.5156 356.1656,290.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="371.6" y="299.9102">SDCardDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="320.5" x2="468.5" y1="311" y2="311"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="327.5" y="319"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="339.5" y="326.4189">fileSystemHandler</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="327.5" y="332.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="67" x="339.5" y="340.2549">logFileHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="320.5" x2="468.5" y1="346.6719" y2="346.6719"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="327.5" y="354.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="339.5" y="362.0908">void mountFileSystem()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="327.5" y="368.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="124" x="339.5" y="375.9268">void unmountFileSystem()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="327.5" y="382.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71" x="339.5" y="389.7627">void openFile()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="327.5" y="396.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="339.5" y="403.5986">void closeFile()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="327.5" y="410.0156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="339.5" y="417.4346">void sync()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="327.5" y="423.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="339.5" y="431.2705">void writeToFile()</text><!--MD5=[123a1d09c24313992a8650e1506f75a8]
class UARTDriver--><rect codeLine="52" fill="#FEFECE" filter="url(#f1gbxoyxn9ice4)" height="75.6719" id="UARTDriver" style="stroke:#A80036;stroke-width:1.5;" width="96" x="631.5" y="320.5"/><ellipse cx="646.5" cy="336.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M649.2656,332.375 Q649.4219,332.1563 649.6094,332.0469 Q649.7969,331.9375 650.0156,331.9375 Q650.3906,331.9375 650.625,332.1953 Q650.8594,332.4531 650.8594,333.0625 L650.8594,334.5156 Q650.8594,335.125 650.625,335.3906 Q650.3906,335.6563 650.0156,335.6563 Q649.6719,335.6563 649.4688,335.4531 Q649.2656,335.2656 649.1563,334.75 Q649.1094,334.3906 648.9219,334.2031 Q648.5938,333.8281 647.9844,333.6094 Q647.375,333.3906 646.75,333.3906 Q645.9844,333.3906 645.3516,333.7188 Q644.7188,334.0469 644.2266,334.7969 Q643.7344,335.5469 643.7344,336.5781 L643.7344,337.6719 Q643.7344,338.9063 644.625,339.7266 Q645.5156,340.5469 647.1094,340.5469 Q648.0469,340.5469 648.7031,340.2969 Q649.0938,340.1406 649.5156,339.7031 Q649.7813,339.4375 649.9297,339.3594 Q650.0781,339.2813 650.2813,339.2813 Q650.6094,339.2813 650.8672,339.5391 Q651.125,339.7969 651.125,340.1406 Q651.125,340.4844 650.7813,340.8906 Q650.2813,341.4688 649.4844,341.7969 Q648.4063,342.25 647.1094,342.25 Q645.5938,342.25 644.3906,341.625 Q643.4063,341.125 642.7188,340.0547 Q642.0313,338.9844 642.0313,337.7031 L642.0313,336.5469 Q642.0313,335.2188 642.6484,334.0703 Q643.2656,332.9219 644.3594,332.3047 Q645.4531,331.6875 646.6875,331.6875 Q647.4219,331.6875 648.0703,331.8516 Q648.7188,332.0156 649.2656,332.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="64" x="660.5" y="341.4102">UARTDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="632.5" x2="726.5" y1="352.5" y2="352.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="632.5" x2="726.5" y1="360.5" y2="360.5"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="639.5" y="368.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="651.5" y="375.9189">void open()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="639.5" y="382.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="651.5" y="389.7549">void close()</text><!--MD5=[10fbacbf49dc8825ca30de4badcc4d10]
class UARTDriverConfig--><rect codeLine="67" fill="#FEFECE" filter="url(#f1gbxoyxn9ice4)" height="61.8359" id="UARTDriverConfig" style="stroke:#A80036;stroke-width:1.5;" width="132" x="613.5" y="512"/><ellipse cx="628.5" cy="528" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M631.2656,523.875 Q631.4219,523.6563 631.6094,523.5469 Q631.7969,523.4375 632.0156,523.4375 Q632.3906,523.4375 632.625,523.6953 Q632.8594,523.9531 632.8594,524.5625 L632.8594,526.0156 Q632.8594,526.625 632.625,526.8906 Q632.3906,527.1563 632.0156,527.1563 Q631.6719,527.1563 631.4688,526.9531 Q631.2656,526.7656 631.1563,526.25 Q631.1094,525.8906 630.9219,525.7031 Q630.5938,525.3281 629.9844,525.1094 Q629.375,524.8906 628.75,524.8906 Q627.9844,524.8906 627.3516,525.2188 Q626.7188,525.5469 626.2266,526.2969 Q625.7344,527.0469 625.7344,528.0781 L625.7344,529.1719 Q625.7344,530.4063 626.625,531.2266 Q627.5156,532.0469 629.1094,532.0469 Q630.0469,532.0469 630.7031,531.7969 Q631.0938,531.6406 631.5156,531.2031 Q631.7813,530.9375 631.9297,530.8594 Q632.0781,530.7813 632.2813,530.7813 Q632.6094,530.7813 632.8672,531.0391 Q633.125,531.2969 633.125,531.6406 Q633.125,531.9844 632.7813,532.3906 Q632.2813,532.9688 631.4844,533.2969 Q630.4063,533.75 629.1094,533.75 Q627.5938,533.75 626.3906,533.125 Q625.4063,532.625 624.7188,531.5547 Q624.0313,530.4844 624.0313,529.2031 L624.0313,528.0469 Q624.0313,526.7188 624.6484,525.5703 Q625.2656,524.4219 626.3594,523.8047 Q627.4531,523.1875 628.6875,523.1875 Q629.4219,523.1875 630.0703,523.3516 Q630.7188,523.5156 631.2656,523.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="100" x="642.5" y="532.9102">UARTDriverConfig</text><line style="stroke:#A80036;stroke-width:1.5;" x1="614.5" x2="744.5" y1="544" y2="544"/><ellipse cx="624.5" cy="555" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="633.5" y="559.4189">UARTHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="614.5" x2="744.5" y1="565.8359" y2="565.8359"/><path d="M549,648 L549,788.8125 A0,0 0 0 0 549,788.8125 L810,788.8125 A0,0 0 0 0 810,788.8125 L810,658 L800,648 L683.5,648 L679.5,574.22 L675.5,648 L549,648 A0,0 0 0 0 549,648 " fill="#FBFB77" filter="url(#f1gbxoyxn9ice4)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M800,648 L800,658 L810,658 L800,648 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="555" y="666.4951">On embedded systems, there is no such</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="555" y="682.8467">identifier as COMx for serial port</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="555" y="699.1982">(in contrary to e.g Windows or Linux).</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="555" y="715.5498">The config is added as a simple way</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="555" y="731.9014">to hide this low level thing from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="555" y="748.2529">high level UARTDriver. I didn't want</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="555" y="764.6045">to hardcode the UART device handler</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="555" y="780.9561">in the driver.</text><!--MD5=[20f746540be94bb88eafd071c2d57044]
class WifiDriver--><rect codeLine="71" fill="#FEFECE" filter="url(#f1gbxoyxn9ice4)" height="75.6719" id="WifiDriver" style="stroke:#A80036;stroke-width:1.5;" width="110" x="174.5" y="320.5"/><ellipse cx="201.2" cy="336.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M203.9656,332.375 Q204.1219,332.1563 204.3094,332.0469 Q204.4969,331.9375 204.7156,331.9375 Q205.0906,331.9375 205.325,332.1953 Q205.5594,332.4531 205.5594,333.0625 L205.5594,334.5156 Q205.5594,335.125 205.325,335.3906 Q205.0906,335.6563 204.7156,335.6563 Q204.3719,335.6563 204.1688,335.4531 Q203.9656,335.2656 203.8563,334.75 Q203.8094,334.3906 203.6219,334.2031 Q203.2938,333.8281 202.6844,333.6094 Q202.075,333.3906 201.45,333.3906 Q200.6844,333.3906 200.0516,333.7188 Q199.4188,334.0469 198.9266,334.7969 Q198.4344,335.5469 198.4344,336.5781 L198.4344,337.6719 Q198.4344,338.9063 199.325,339.7266 Q200.2156,340.5469 201.8094,340.5469 Q202.7469,340.5469 203.4031,340.2969 Q203.7938,340.1406 204.2156,339.7031 Q204.4813,339.4375 204.6297,339.3594 Q204.7781,339.2813 204.9813,339.2813 Q205.3094,339.2813 205.5672,339.5391 Q205.825,339.7969 205.825,340.1406 Q205.825,340.4844 205.4813,340.8906 Q204.9813,341.4688 204.1844,341.7969 Q203.1063,342.25 201.8094,342.25 Q200.2938,342.25 199.0906,341.625 Q198.1063,341.125 197.4188,340.0547 Q196.7313,338.9844 196.7313,337.7031 L196.7313,336.5469 Q196.7313,335.2188 197.3484,334.0703 Q197.9656,332.9219 199.0594,332.3047 Q200.1531,331.6875 201.3875,331.6875 Q202.1219,331.6875 202.7703,331.8516 Q203.4188,332.0156 203.9656,332.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="217.8" y="341.4102">WifiDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="175.5" x2="283.5" y1="352.5" y2="352.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="175.5" x2="283.5" y1="360.5" y2="360.5"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="182.5" y="368.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="194.5" y="375.9189">void connect()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="182.5" y="382.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="194.5" y="389.7549">void disconnect()</text><!--MD5=[7de8398d00877e507ad41a6047a3e2b0]
reverse link StoragesContainer to SDCardStorage--><path codeLine="76" d="M467.5,96.57 C467.5,114.44 467.5,133.97 467.5,149.64 " fill="none" id="StoragesContainer-backto-SDCardStorage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="467.5,83.33,463.5,89.33,467.5,95.33,471.5,89.33,467.5,83.33" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[278eb68ce087738c48779b563fd677ec]
reverse link StoragesContainer to UARTStorage--><path codeLine="77" d="M518.44,92.12 C542.51,113.91 570.2,138.98 589.83,156.75 " fill="none" id="StoragesContainer-backto-UARTStorage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="508.73,83.33,510.4888,90.3233,517.6206,91.3896,515.8618,84.3963,508.73,83.33" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[be86c472081707a0253ecbf8508ad3de]
reverse link StoragesContainer to WifiStorage--><path codeLine="78" d="M418.45,92.29 C400.93,108.82 381.44,127.22 364.84,142.87 " fill="none" id="StoragesContainer-backto-WifiStorage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="427.95,83.33,420.8402,84.5347,419.2178,91.561,426.3276,90.3562,427.95,83.33" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[46d2411870dec9150d07e93ab9a25cd6]
link SDCardStorage to IStorageIO--><path codeLine="80" d="M481.77,212.17 C492.51,234.89 507.62,266.84 520.94,294.99 " fill="none" id="SDCardStorage-to-IStorageIO" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="527.36,292.19,529.58,313.27,514.7,298.18,527.36,292.19" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e27c2e999f892a98a02425e0c3e688d9]
link WifiStorage to IStorageIO--><path codeLine="81" d="M373,209.3 C417.19,234.87 477.65,270.41 487.5,279 C494.04,284.7 500.4,291.14 506.43,297.81 " fill="none" id="WifiStorage-to-IStorageIO" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="511.79,293.31,519.37,313.1,501.1,302.36,511.79,293.31" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ded591c8b5adf0f4343619ad341c6536]
link UARTStorage to IStorageIO--><path codeLine="82" d="M606.87,205.31 C598.47,227.98 585.34,263.44 573.86,294.43 " fill="none" id="UARTStorage-to-IStorageIO" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="580.31,297.16,566.8,313.48,567.19,292.29,580.31,297.16" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6d6dcd0951ecaf7074f0d50ba715316a]
reverse link UARTStorage to UARTDriver--><path codeLine="84" d="M628.5,217.65 C639.39,247.52 654.88,290 665.93,320.29 " fill="none" id="UARTStorage-backto-UARTDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="624,205.31,622.2992,212.3177,628.1136,216.5829,629.8144,209.5752,624,205.31" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[24ea1a3a1c99c02c467f2545e0ecae49]
reverse link SDCardStorage to SDCardDriver--><path codeLine="85" d="M449.79,224.57 C443.01,240.89 435.03,260.06 427.28,278.7 " fill="none" id="SDCardStorage-backto-SDCardDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="454.95,212.17,448.9541,216.1761,450.3459,223.2516,456.3418,219.2455,454.95,212.17" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2dc7e96a9887d6a9972754472472160a]
reverse link WifiStorage to WifiDriver--><path codeLine="86" d="M298.75,230.89 C283.27,259.21 264.08,294.29 249.83,320.33 " fill="none" id="WifiStorage-backto-WifiDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="305.14,219.22,298.7497,222.5613,299.3762,229.7452,305.7665,226.4038,305.14,219.22" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[490bc86ac7b0803432b8af5cb7ab5df2]
link SDCardDriver to IStorageDriver--><path codeLine="88" d="M394.5,438.22 C394.5,451.32 394.5,464.78 394.5,477.47 " fill="none" id="SDCardDriver-to-IStorageDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="401.5,477.93,394.5,497.93,387.5,477.93,401.5,477.93" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[99a817c53e8e408b6b3de7666fb8313a]
link UARTDriver to IStorageDriver--><path codeLine="89" d="M654.27,396.52 C643.26,410.77 629.45,426.39 614.5,438 C570.81,471.94 514.25,498.37 469.42,516.09 " fill="none" id="UARTDriver-to-IStorageDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="471.86,522.65,450.68,523.27,466.85,509.58,471.86,522.65" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f75aa50b865b0718b3b967a088c3ae2e]
link WifiDriver to IStorageDriver--><path codeLine="90" d="M263.29,396.87 C285.64,421.6 315.43,454.54 340.97,482.8 " fill="none" id="WifiDriver-to-IStorageDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="346.43,478.4,354.65,497.93,336.05,487.79,346.43,478.4" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e0b368064af78581b2195406af07c693]
reverse link UARTDriver to UARTDriverConfig--><path codeLine="92" d="M679.5,410.28 C679.5,442.97 679.5,484.35 679.5,511.92 " fill="none" id="UARTDriver-backto-UARTDriverConfig" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="679.5,396.87,675.5,402.87,679.5,408.87,683.5,402.87,679.5,396.87" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d66bd9ad4d2138c9464dc3940b3fcbbc]
@startuml

class StoragesContainer {
    +void init()
    +void configure()
}



interface IStorageIO {
    +void init()
    +void deinit()
    +void write()
}

interface IStorageDriver {
    +void init()
    +void deinit()
    +void write()
}

class SDCardStorage {
    -fileName
}

class UARTStorage {
}

note left of WifiStorage
ESP8266MOD has only Wifi support.
In future it would be possible 
to use ESP32 that has also Bloototh.
end note

class WifiStorage {
    -login
    -password
}


class SDCardDriver {
    -void mountFileSystem()
    -void unmountFileSystem()
    -void openFile()
    -void closeFile()
    -void sync()
    -void writeToFile()

    - fileSystemHandler
    - logFileHandler
}

class UARTDriver {
    -void open()
    -void close()
}

note bottom of UARTDriverConfig
On embedded systems, there is no such 
identifier as COMx for serial port 
(in contrary to e.g Windows or Linux).
The config is added as a simple way
to hide this low level thing from 
high level UARTDriver. I didn't want
to hardcode the UART device handler
in the driver.
end note
class UARTDriverConfig {
    +UARTHandler
}

class WifiDriver {
    -void connect()
    -void disconnect()
}

StoragesContainer *- - SDCardStorage
StoragesContainer *- - UARTStorage
StoragesContainer *- - WifiStorage

SDCardStorage - -|> IStorageIO
WifiStorage - -|> IStorageIO
UARTStorage - -|> IStorageIO

UARTStorage *- - UARTDriver
SDCardStorage *- - SDCardDriver
WifiStorage *- - WifiDriver

SDCardDriver - -|> IStorageDriver
UARTDriver - -|> IStorageDriver
WifiDriver - -|> IStorageDriver

UARTDriver *- - UARTDriverConfig

@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1250
Language: pl
Country: PL
--></g></svg>