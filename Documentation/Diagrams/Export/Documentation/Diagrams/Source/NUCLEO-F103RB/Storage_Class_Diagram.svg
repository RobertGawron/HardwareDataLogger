<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="987px" preserveAspectRatio="none" style="width:880px;height:987px;background:#FFFFFF;" version="1.1" viewBox="0 0 880 987" width="880px" zoomAndPan="magnify"><defs><filter height="300%" id="fe71bnnmbrgy3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[fcc3e949faeeb705efb1ec4534c325ce]
class Meassurement--><rect codeLine="2" fill="#FEFECE" filter="url(#fe71bnnmbrgy3)" height="48" id="Meassurement" style="stroke:#A80036;stroke-width:1.5;" width="115" x="427" y="34.5"/><ellipse cx="442" cy="50.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M444.7656,46.375 Q444.9219,46.1563 445.1094,46.0469 Q445.2969,45.9375 445.5156,45.9375 Q445.8906,45.9375 446.125,46.1953 Q446.3594,46.4531 446.3594,47.0625 L446.3594,48.5156 Q446.3594,49.125 446.125,49.3906 Q445.8906,49.6563 445.5156,49.6563 Q445.1719,49.6563 444.9688,49.4531 Q444.7656,49.2656 444.6563,48.75 Q444.6094,48.3906 444.4219,48.2031 Q444.0938,47.8281 443.4844,47.6094 Q442.875,47.3906 442.25,47.3906 Q441.4844,47.3906 440.8516,47.7188 Q440.2188,48.0469 439.7266,48.7969 Q439.2344,49.5469 439.2344,50.5781 L439.2344,51.6719 Q439.2344,52.9063 440.125,53.7266 Q441.0156,54.5469 442.6094,54.5469 Q443.5469,54.5469 444.2031,54.2969 Q444.5938,54.1406 445.0156,53.7031 Q445.2813,53.4375 445.4297,53.3594 Q445.5781,53.2813 445.7813,53.2813 Q446.1094,53.2813 446.3672,53.5391 Q446.625,53.7969 446.625,54.1406 Q446.625,54.4844 446.2813,54.8906 Q445.7813,55.4688 444.9844,55.7969 Q443.9063,56.25 442.6094,56.25 Q441.0938,56.25 439.8906,55.625 Q438.9063,55.125 438.2188,54.0547 Q437.5313,52.9844 437.5313,51.7031 L437.5313,50.5469 Q437.5313,49.2188 438.1484,48.0703 Q438.7656,46.9219 439.8594,46.3047 Q440.9531,45.6875 442.1875,45.6875 Q442.9219,45.6875 443.5703,45.8516 Q444.2188,46.0156 444.7656,46.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="456" y="55.4102">Meassurement</text><line style="stroke:#A80036;stroke-width:1.5;" x1="428" x2="541" y1="66.5" y2="66.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="428" x2="541" y1="74.5" y2="74.5"/><!--MD5=[45a0bc03ebf70602769dbf80803c9ff5]
class StoragesContainer--><rect codeLine="4" fill="#FEFECE" filter="url(#fe71bnnmbrgy3)" height="103.3438" id="StoragesContainer" style="stroke:#A80036;stroke-width:1.5;" width="153" x="577" y="7"/><ellipse cx="599.65" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M602.4156,18.875 Q602.5719,18.6563 602.7594,18.5469 Q602.9469,18.4375 603.1656,18.4375 Q603.5406,18.4375 603.775,18.6953 Q604.0094,18.9531 604.0094,19.5625 L604.0094,21.0156 Q604.0094,21.625 603.775,21.8906 Q603.5406,22.1563 603.1656,22.1563 Q602.8219,22.1563 602.6188,21.9531 Q602.4156,21.7656 602.3063,21.25 Q602.2594,20.8906 602.0719,20.7031 Q601.7438,20.3281 601.1344,20.1094 Q600.525,19.8906 599.9,19.8906 Q599.1344,19.8906 598.5016,20.2188 Q597.8688,20.5469 597.3766,21.2969 Q596.8844,22.0469 596.8844,23.0781 L596.8844,24.1719 Q596.8844,25.4063 597.775,26.2266 Q598.6656,27.0469 600.2594,27.0469 Q601.1969,27.0469 601.8531,26.7969 Q602.2438,26.6406 602.6656,26.2031 Q602.9313,25.9375 603.0797,25.8594 Q603.2281,25.7813 603.4313,25.7813 Q603.7594,25.7813 604.0172,26.0391 Q604.275,26.2969 604.275,26.6406 Q604.275,26.9844 603.9313,27.3906 Q603.4313,27.9688 602.6344,28.2969 Q601.5563,28.75 600.2594,28.75 Q598.7438,28.75 597.5406,28.125 Q596.5563,27.625 595.8688,26.5547 Q595.1813,25.4844 595.1813,24.2031 L595.1813,23.0469 Q595.1813,21.7188 595.7984,20.5703 Q596.4156,19.4219 597.5094,18.8047 Q598.6031,18.1875 599.8375,18.1875 Q600.5719,18.1875 601.2203,18.3516 Q601.8688,18.5156 602.4156,18.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104" x="615.35" y="27.9102">StoragesContainer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="578" x2="729" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="578" x2="729" y1="47" y2="47"/><ellipse cx="588" cy="58" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="597" y="62.4189">void init()</text><ellipse cx="588" cy="71.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="597" y="76.2549">void configure()</text><ellipse cx="588" cy="85.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="47" x="597" y="90.0908">void tick()</text><ellipse cx="588" cy="99.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="597" y="103.9268">void write(Meassurement)</text><!--MD5=[e8cfd755308414781c0123d0000bbf77]
class IStorage--><rect codeLine="13" fill="#FEFECE" filter="url(#fe71bnnmbrgy3)" height="103.3438" id="IStorage" style="stroke:#A80036;stroke-width:1.5;" width="97" x="608" y="306"/><ellipse cx="631.1" cy="322" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M632.0531,318.6406 L632.0531,325.2969 L633.7719,325.2969 Q634.3813,325.2969 634.6469,325.5313 Q634.9125,325.7656 634.9125,326.1563 Q634.9125,326.5313 634.6469,326.7656 Q634.3813,327 633.7719,327 L628.6313,327 Q628.0219,327 627.7563,326.7656 Q627.4906,326.5313 627.4906,326.1406 Q627.4906,325.7656 627.7563,325.5313 Q628.0219,325.2969 628.6313,325.2969 L630.35,325.2969 L630.35,318.6406 L628.6313,318.6406 Q628.0219,318.6406 627.7563,318.4063 Q627.4906,318.1719 627.4906,317.7813 Q627.4906,317.4063 627.7563,317.1719 Q628.0219,316.9375 628.6313,316.9375 L633.7719,316.9375 Q634.3813,316.9375 634.6469,317.1719 Q634.9125,317.4063 634.9125,317.7813 Q634.9125,318.1719 634.6469,318.4063 Q634.3813,318.6406 633.7719,318.6406 L632.0531,318.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="47" x="646.9" y="326.9102">IStorage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="609" x2="704" y1="338" y2="338"/><line style="stroke:#A80036;stroke-width:1.5;" x1="609" x2="704" y1="346" y2="346"/><ellipse cx="619" cy="357" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="628" y="361.4189">void init()</text><ellipse cx="619" cy="370.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="628" y="375.2549">void deinit()</text><ellipse cx="619" cy="384.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="628" y="389.0908">void write()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="616" y="395.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71" x="628" y="402.9268">void serialize()</text><!--MD5=[55cf75b686679030a2cc053f7a18829b]
class IStorageDriver--><rect codeLine="20" fill="#FEFECE" filter="url(#fe71bnnmbrgy3)" height="89.5078" id="IStorageDriver" style="stroke:#A80036;stroke-width:1.5;" width="112" x="601.5" y="688"/><ellipse cx="616.5" cy="704" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M617.4531,700.6406 L617.4531,707.2969 L619.1719,707.2969 Q619.7813,707.2969 620.0469,707.5313 Q620.3125,707.7656 620.3125,708.1563 Q620.3125,708.5313 620.0469,708.7656 Q619.7813,709 619.1719,709 L614.0313,709 Q613.4219,709 613.1563,708.7656 Q612.8906,708.5313 612.8906,708.1406 Q612.8906,707.7656 613.1563,707.5313 Q613.4219,707.2969 614.0313,707.2969 L615.75,707.2969 L615.75,700.6406 L614.0313,700.6406 Q613.4219,700.6406 613.1563,700.4063 Q612.8906,700.1719 612.8906,699.7813 Q612.8906,699.4063 613.1563,699.1719 Q613.4219,698.9375 614.0313,698.9375 L619.1719,698.9375 Q619.7813,698.9375 620.0469,699.1719 Q620.3125,699.4063 620.3125,699.7813 Q620.3125,700.1719 620.0469,700.4063 Q619.7813,700.6406 619.1719,700.6406 L617.4531,700.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="80" x="630.5" y="708.9102">IStorageDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="602.5" x2="712.5" y1="720" y2="720"/><line style="stroke:#A80036;stroke-width:1.5;" x1="602.5" x2="712.5" y1="728" y2="728"/><ellipse cx="612.5" cy="739" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="621.5" y="743.4189">void init()</text><ellipse cx="612.5" cy="752.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="621.5" y="757.2549">void deinit()</text><ellipse cx="612.5" cy="766.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="621.5" y="771.0908">void write()</text><!--MD5=[7db34624215397195264460eca68bfc7]
class SDCardStorage--><rect codeLine="26" fill="#FEFECE" filter="url(#fe71bnnmbrgy3)" height="61.8359" id="SDCardStorage" style="stroke:#A80036;stroke-width:1.5;" width="119" x="736" y="177"/><ellipse cx="751" cy="193" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M753.7656,188.875 Q753.9219,188.6563 754.1094,188.5469 Q754.2969,188.4375 754.5156,188.4375 Q754.8906,188.4375 755.125,188.6953 Q755.3594,188.9531 755.3594,189.5625 L755.3594,191.0156 Q755.3594,191.625 755.125,191.8906 Q754.8906,192.1563 754.5156,192.1563 Q754.1719,192.1563 753.9688,191.9531 Q753.7656,191.7656 753.6563,191.25 Q753.6094,190.8906 753.4219,190.7031 Q753.0938,190.3281 752.4844,190.1094 Q751.875,189.8906 751.25,189.8906 Q750.4844,189.8906 749.8516,190.2188 Q749.2188,190.5469 748.7266,191.2969 Q748.2344,192.0469 748.2344,193.0781 L748.2344,194.1719 Q748.2344,195.4063 749.125,196.2266 Q750.0156,197.0469 751.6094,197.0469 Q752.5469,197.0469 753.2031,196.7969 Q753.5938,196.6406 754.0156,196.2031 Q754.2813,195.9375 754.4297,195.8594 Q754.5781,195.7813 754.7813,195.7813 Q755.1094,195.7813 755.3672,196.0391 Q755.625,196.2969 755.625,196.6406 Q755.625,196.9844 755.2813,197.3906 Q754.7813,197.9688 753.9844,198.2969 Q752.9063,198.75 751.6094,198.75 Q750.0938,198.75 748.8906,198.125 Q747.9063,197.625 747.2188,196.5547 Q746.5313,195.4844 746.5313,194.2031 L746.5313,193.0469 Q746.5313,191.7188 747.1484,190.5703 Q747.7656,189.4219 748.8594,188.8047 Q749.9531,188.1875 751.1875,188.1875 Q751.9219,188.1875 752.5703,188.3516 Q753.2188,188.5156 753.7656,188.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="87" x="765" y="197.9102">SDCardStorage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="737" x2="854" y1="209" y2="209"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="744" y="217"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="756" y="224.4189">fileName</text><line style="stroke:#A80036;stroke-width:1.5;" x1="737" x2="854" y1="230.8359" y2="230.8359"/><!--MD5=[593d588e1c6f1d7ea50db6f5126e276f]
class UARTStorage--><rect codeLine="30" fill="#FEFECE" filter="url(#fe71bnnmbrgy3)" height="48" id="UARTStorage" style="stroke:#A80036;stroke-width:1.5;" width="107" x="192" y="184"/><ellipse cx="207" cy="200" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M209.7656,195.875 Q209.9219,195.6563 210.1094,195.5469 Q210.2969,195.4375 210.5156,195.4375 Q210.8906,195.4375 211.125,195.6953 Q211.3594,195.9531 211.3594,196.5625 L211.3594,198.0156 Q211.3594,198.625 211.125,198.8906 Q210.8906,199.1563 210.5156,199.1563 Q210.1719,199.1563 209.9688,198.9531 Q209.7656,198.7656 209.6563,198.25 Q209.6094,197.8906 209.4219,197.7031 Q209.0938,197.3281 208.4844,197.1094 Q207.875,196.8906 207.25,196.8906 Q206.4844,196.8906 205.8516,197.2188 Q205.2188,197.5469 204.7266,198.2969 Q204.2344,199.0469 204.2344,200.0781 L204.2344,201.1719 Q204.2344,202.4063 205.125,203.2266 Q206.0156,204.0469 207.6094,204.0469 Q208.5469,204.0469 209.2031,203.7969 Q209.5938,203.6406 210.0156,203.2031 Q210.2813,202.9375 210.4297,202.8594 Q210.5781,202.7813 210.7813,202.7813 Q211.1094,202.7813 211.3672,203.0391 Q211.625,203.2969 211.625,203.6406 Q211.625,203.9844 211.2813,204.3906 Q210.7813,204.9688 209.9844,205.2969 Q208.9063,205.75 207.6094,205.75 Q206.0938,205.75 204.8906,205.125 Q203.9063,204.625 203.2188,203.5547 Q202.5313,202.4844 202.5313,201.2031 L202.5313,200.0469 Q202.5313,198.7188 203.1484,197.5703 Q203.7656,196.4219 204.8594,195.8047 Q205.9531,195.1875 207.1875,195.1875 Q207.9219,195.1875 208.5703,195.3516 Q209.2188,195.5156 209.7656,195.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75" x="221" y="204.9102">UARTStorage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="193" x2="298" y1="216" y2="216"/><line style="stroke:#A80036;stroke-width:1.5;" x1="193" x2="298" y1="224" y2="224"/><!--MD5=[5dabd1a6e6389832061ac86dbbf44f08]
class WifiStorage--><rect codeLine="39" fill="#FEFECE" filter="url(#fe71bnnmbrgy3)" height="75.6719" id="WifiStorage" style="stroke:#A80036;stroke-width:1.5;" width="95" x="606" y="170"/><ellipse cx="621" cy="186" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M623.7656,181.875 Q623.9219,181.6563 624.1094,181.5469 Q624.2969,181.4375 624.5156,181.4375 Q624.8906,181.4375 625.125,181.6953 Q625.3594,181.9531 625.3594,182.5625 L625.3594,184.0156 Q625.3594,184.625 625.125,184.8906 Q624.8906,185.1563 624.5156,185.1563 Q624.1719,185.1563 623.9688,184.9531 Q623.7656,184.7656 623.6563,184.25 Q623.6094,183.8906 623.4219,183.7031 Q623.0938,183.3281 622.4844,183.1094 Q621.875,182.8906 621.25,182.8906 Q620.4844,182.8906 619.8516,183.2188 Q619.2188,183.5469 618.7266,184.2969 Q618.2344,185.0469 618.2344,186.0781 L618.2344,187.1719 Q618.2344,188.4063 619.125,189.2266 Q620.0156,190.0469 621.6094,190.0469 Q622.5469,190.0469 623.2031,189.7969 Q623.5938,189.6406 624.0156,189.2031 Q624.2813,188.9375 624.4297,188.8594 Q624.5781,188.7813 624.7813,188.7813 Q625.1094,188.7813 625.3672,189.0391 Q625.625,189.2969 625.625,189.6406 Q625.625,189.9844 625.2813,190.3906 Q624.7813,190.9688 623.9844,191.2969 Q622.9063,191.75 621.6094,191.75 Q620.0938,191.75 618.8906,191.125 Q617.9063,190.625 617.2188,189.5547 Q616.5313,188.4844 616.5313,187.2031 L616.5313,186.0469 Q616.5313,184.7188 617.1484,183.5703 Q617.7656,182.4219 618.8594,181.8047 Q619.9531,181.1875 621.1875,181.1875 Q621.9219,181.1875 622.5703,181.3516 Q623.2188,181.5156 623.7656,181.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="63" x="635" y="190.9102">WifiStorage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="607" x2="700" y1="202" y2="202"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="614" y="210"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="626" y="217.4189">login</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="614" y="223.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="626" y="231.2549">password</text><line style="stroke:#A80036;stroke-width:1.5;" x1="607" x2="700" y1="237.6719" y2="237.6719"/><path d="M334,178.5 L334,237.5547 A0,0 0 0 0 334,237.5547 L571,237.5547 A0,0 0 0 0 571,237.5547 L571,212 L605.84,208 L571,204 L571,188.5 L561,178.5 L334,178.5 A0,0 0 0 0 334,178.5 " fill="#FBFB77" filter="url(#fe71bnnmbrgy3)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M561,178.5 L561,188.5 L571,188.5 L561,178.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="340" y="196.9951">ESP8266MOD has only Wifi support.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="340" y="213.3467">In future it would be possible</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="340" y="229.6982">to use ESP32 that has also Bloototh.</text><!--MD5=[de27ec6bb9ae4d985ba3a8f3c8f525a7]
class SDCardDriver--><rect codeLine="45" fill="#FEFECE" filter="url(#fe71bnnmbrgy3)" height="158.6875" id="SDCardDriver" style="stroke:#A80036;stroke-width:1.5;" width="150" x="716.5" y="469"/><ellipse cx="750.4" cy="485" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M753.1656,480.875 Q753.3219,480.6563 753.5094,480.5469 Q753.6969,480.4375 753.9156,480.4375 Q754.2906,480.4375 754.525,480.6953 Q754.7594,480.9531 754.7594,481.5625 L754.7594,483.0156 Q754.7594,483.625 754.525,483.8906 Q754.2906,484.1563 753.9156,484.1563 Q753.5719,484.1563 753.3688,483.9531 Q753.1656,483.7656 753.0563,483.25 Q753.0094,482.8906 752.8219,482.7031 Q752.4938,482.3281 751.8844,482.1094 Q751.275,481.8906 750.65,481.8906 Q749.8844,481.8906 749.2516,482.2188 Q748.6188,482.5469 748.1266,483.2969 Q747.6344,484.0469 747.6344,485.0781 L747.6344,486.1719 Q747.6344,487.4063 748.525,488.2266 Q749.4156,489.0469 751.0094,489.0469 Q751.9469,489.0469 752.6031,488.7969 Q752.9938,488.6406 753.4156,488.2031 Q753.6813,487.9375 753.8297,487.8594 Q753.9781,487.7813 754.1813,487.7813 Q754.5094,487.7813 754.7672,488.0391 Q755.025,488.2969 755.025,488.6406 Q755.025,488.9844 754.6813,489.3906 Q754.1813,489.9688 753.3844,490.2969 Q752.3063,490.75 751.0094,490.75 Q749.4938,490.75 748.2906,490.125 Q747.3063,489.625 746.6188,488.5547 Q745.9313,487.4844 745.9313,486.2031 L745.9313,485.0469 Q745.9313,483.7188 746.5484,482.5703 Q747.1656,481.4219 748.2594,480.8047 Q749.3531,480.1875 750.5875,480.1875 Q751.3219,480.1875 751.9703,480.3516 Q752.6188,480.5156 753.1656,480.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="768.6" y="489.9102">SDCardDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="717.5" x2="865.5" y1="501" y2="501"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="724.5" y="509"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="736.5" y="516.4189">fileSystemHandler</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="724.5" y="522.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="67" x="736.5" y="530.2549">logFileHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="717.5" x2="865.5" y1="536.6719" y2="536.6719"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="724.5" y="544.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="736.5" y="552.0908">void mountFileSystem()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="724.5" y="558.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="124" x="736.5" y="565.9268">void unmountFileSystem()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="724.5" y="572.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71" x="736.5" y="579.7627">void openFile()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="724.5" y="586.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="736.5" y="593.5986">void closeFile()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="724.5" y="600.0156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="736.5" y="607.4346">void sync()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="724.5" y="613.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="736.5" y="621.2705">void writeToFile()</text><!--MD5=[474bed6931f6f2fe1a50ff8fcd1078a5]
class UARTStorageDriver--><rect codeLine="57" fill="#FEFECE" filter="url(#fe71bnnmbrgy3)" height="75.6719" id="UARTStorageDriver" style="stroke:#A80036;stroke-width:1.5;" width="139" x="257" y="510.5"/><ellipse cx="272" cy="526.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M274.7656,522.375 Q274.9219,522.1563 275.1094,522.0469 Q275.2969,521.9375 275.5156,521.9375 Q275.8906,521.9375 276.125,522.1953 Q276.3594,522.4531 276.3594,523.0625 L276.3594,524.5156 Q276.3594,525.125 276.125,525.3906 Q275.8906,525.6563 275.5156,525.6563 Q275.1719,525.6563 274.9688,525.4531 Q274.7656,525.2656 274.6563,524.75 Q274.6094,524.3906 274.4219,524.2031 Q274.0938,523.8281 273.4844,523.6094 Q272.875,523.3906 272.25,523.3906 Q271.4844,523.3906 270.8516,523.7188 Q270.2188,524.0469 269.7266,524.7969 Q269.2344,525.5469 269.2344,526.5781 L269.2344,527.6719 Q269.2344,528.9063 270.125,529.7266 Q271.0156,530.5469 272.6094,530.5469 Q273.5469,530.5469 274.2031,530.2969 Q274.5938,530.1406 275.0156,529.7031 Q275.2813,529.4375 275.4297,529.3594 Q275.5781,529.2813 275.7813,529.2813 Q276.1094,529.2813 276.3672,529.5391 Q276.625,529.7969 276.625,530.1406 Q276.625,530.4844 276.2813,530.8906 Q275.7813,531.4688 274.9844,531.7969 Q273.9063,532.25 272.6094,532.25 Q271.0938,532.25 269.8906,531.625 Q268.9063,531.125 268.2188,530.0547 Q267.5313,528.9844 267.5313,527.7031 L267.5313,526.5469 Q267.5313,525.2188 268.1484,524.0703 Q268.7656,522.9219 269.8594,522.3047 Q270.9531,521.6875 272.1875,521.6875 Q272.9219,521.6875 273.5703,521.8516 Q274.2188,522.0156 274.7656,522.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="107" x="286" y="531.4102">UARTStorageDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="258" x2="395" y1="542.5" y2="542.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="258" x2="395" y1="550.5" y2="550.5"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="265" y="558.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="277" y="565.9189">void open()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="265" y="572.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="277" y="579.7549">void close()</text><!--MD5=[10fbacbf49dc8825ca30de4badcc4d10]
class UARTDriverConfig--><rect codeLine="72" fill="#FEFECE" filter="url(#fe71bnnmbrgy3)" height="61.8359" id="UARTDriverConfig" style="stroke:#A80036;stroke-width:1.5;" width="132" x="70.5" y="702"/><ellipse cx="85.5" cy="718" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M88.2656,713.875 Q88.4219,713.6563 88.6094,713.5469 Q88.7969,713.4375 89.0156,713.4375 Q89.3906,713.4375 89.625,713.6953 Q89.8594,713.9531 89.8594,714.5625 L89.8594,716.0156 Q89.8594,716.625 89.625,716.8906 Q89.3906,717.1563 89.0156,717.1563 Q88.6719,717.1563 88.4688,716.9531 Q88.2656,716.7656 88.1563,716.25 Q88.1094,715.8906 87.9219,715.7031 Q87.5938,715.3281 86.9844,715.1094 Q86.375,714.8906 85.75,714.8906 Q84.9844,714.8906 84.3516,715.2188 Q83.7188,715.5469 83.2266,716.2969 Q82.7344,717.0469 82.7344,718.0781 L82.7344,719.1719 Q82.7344,720.4063 83.625,721.2266 Q84.5156,722.0469 86.1094,722.0469 Q87.0469,722.0469 87.7031,721.7969 Q88.0938,721.6406 88.5156,721.2031 Q88.7813,720.9375 88.9297,720.8594 Q89.0781,720.7813 89.2813,720.7813 Q89.6094,720.7813 89.8672,721.0391 Q90.125,721.2969 90.125,721.6406 Q90.125,721.9844 89.7813,722.3906 Q89.2813,722.9688 88.4844,723.2969 Q87.4063,723.75 86.1094,723.75 Q84.5938,723.75 83.3906,723.125 Q82.4063,722.625 81.7188,721.5547 Q81.0313,720.4844 81.0313,719.2031 L81.0313,718.0469 Q81.0313,716.7188 81.6484,715.5703 Q82.2656,714.4219 83.3594,713.8047 Q84.4531,713.1875 85.6875,713.1875 Q86.4219,713.1875 87.0703,713.3516 Q87.7188,713.5156 88.2656,713.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="100" x="99.5" y="722.9102">UARTDriverConfig</text><line style="stroke:#A80036;stroke-width:1.5;" x1="71.5" x2="201.5" y1="734" y2="734"/><ellipse cx="81.5" cy="745" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="90.5" y="749.4189">UARTHandler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="71.5" x2="201.5" y1="755.8359" y2="755.8359"/><path d="M6,838 L6,978.8125 A0,0 0 0 0 6,978.8125 L267,978.8125 A0,0 0 0 0 267,978.8125 L267,848 L257,838 L140.5,838 L136.5,764.22 L132.5,838 L6,838 A0,0 0 0 0 6,838 " fill="#FBFB77" filter="url(#fe71bnnmbrgy3)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M257,838 L257,848 L267,848 L257,838 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="12" y="856.4951">On embedded systems, there is no such</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="12" y="872.8467">identifier as COMx for serial port</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="12" y="889.1982">(in contrary to e.g Windows or Linux).</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="12" y="905.5498">The config is added as a simple way</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="12" y="921.9014">to hide this low level thing from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="12" y="938.2529">high level UARTDriver. I didn't want</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="12" y="954.6045">to hardcode the UART device handler</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="12" y="970.9561">in the driver.</text><!--MD5=[20f746540be94bb88eafd071c2d57044]
class WifiDriver--><rect codeLine="81" fill="#FEFECE" filter="url(#fe71bnnmbrgy3)" height="75.6719" id="WifiDriver" style="stroke:#A80036;stroke-width:1.5;" width="110" x="462.5" y="319.5"/><ellipse cx="489.2" cy="335.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M491.9656,331.375 Q492.1219,331.1563 492.3094,331.0469 Q492.4969,330.9375 492.7156,330.9375 Q493.0906,330.9375 493.325,331.1953 Q493.5594,331.4531 493.5594,332.0625 L493.5594,333.5156 Q493.5594,334.125 493.325,334.3906 Q493.0906,334.6563 492.7156,334.6563 Q492.3719,334.6563 492.1688,334.4531 Q491.9656,334.2656 491.8563,333.75 Q491.8094,333.3906 491.6219,333.2031 Q491.2938,332.8281 490.6844,332.6094 Q490.075,332.3906 489.45,332.3906 Q488.6844,332.3906 488.0516,332.7188 Q487.4188,333.0469 486.9266,333.7969 Q486.4344,334.5469 486.4344,335.5781 L486.4344,336.6719 Q486.4344,337.9063 487.325,338.7266 Q488.2156,339.5469 489.8094,339.5469 Q490.7469,339.5469 491.4031,339.2969 Q491.7938,339.1406 492.2156,338.7031 Q492.4813,338.4375 492.6297,338.3594 Q492.7781,338.2813 492.9813,338.2813 Q493.3094,338.2813 493.5672,338.5391 Q493.825,338.7969 493.825,339.1406 Q493.825,339.4844 493.4813,339.8906 Q492.9813,340.4688 492.1844,340.7969 Q491.1063,341.25 489.8094,341.25 Q488.2938,341.25 487.0906,340.625 Q486.1063,340.125 485.4188,339.0547 Q484.7313,337.9844 484.7313,336.7031 L484.7313,335.5469 Q484.7313,334.2188 485.3484,333.0703 Q485.9656,331.9219 487.0594,331.3047 Q488.1531,330.6875 489.3875,330.6875 Q490.1219,330.6875 490.7703,330.8516 Q491.4188,331.0156 491.9656,331.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="505.8" y="340.4102">WifiDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="463.5" x2="571.5" y1="351.5" y2="351.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="463.5" x2="571.5" y1="359.5" y2="359.5"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="470.5" y="367.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="482.5" y="374.9189">void connect()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="470.5" y="381.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="482.5" y="388.7549">void disconnect()</text><path d="M431,527 L431,569.7031 A0,0 0 0 0 431,569.7031 L604,569.7031 A0,0 0 0 0 604,569.7031 L604,537 L594,527 L521.5,527 L517.5,395.84 L513.5,527 L431,527 A0,0 0 0 0 431,527 " fill="#FBFB77" filter="url(#fe71bnnmbrgy3)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M594,527 L594,537 L604,537 L594,527 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="437" y="545.4951">Communication with WiFi</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="437" y="561.8467">module is done via UART</text><!--MD5=[123a1d09c24313992a8650e1506f75a8]
class UARTDriver--><rect codeLine="90" fill="#FEFECE" filter="url(#fe71bnnmbrgy3)" height="48" id="UARTDriver" style="stroke:#A80036;stroke-width:1.5;" width="96" x="374.5" y="709"/><ellipse cx="389.5" cy="725" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M392.2656,720.875 Q392.4219,720.6563 392.6094,720.5469 Q392.7969,720.4375 393.0156,720.4375 Q393.3906,720.4375 393.625,720.6953 Q393.8594,720.9531 393.8594,721.5625 L393.8594,723.0156 Q393.8594,723.625 393.625,723.8906 Q393.3906,724.1563 393.0156,724.1563 Q392.6719,724.1563 392.4688,723.9531 Q392.2656,723.7656 392.1563,723.25 Q392.1094,722.8906 391.9219,722.7031 Q391.5938,722.3281 390.9844,722.1094 Q390.375,721.8906 389.75,721.8906 Q388.9844,721.8906 388.3516,722.2188 Q387.7188,722.5469 387.2266,723.2969 Q386.7344,724.0469 386.7344,725.0781 L386.7344,726.1719 Q386.7344,727.4063 387.625,728.2266 Q388.5156,729.0469 390.1094,729.0469 Q391.0469,729.0469 391.7031,728.7969 Q392.0938,728.6406 392.5156,728.2031 Q392.7813,727.9375 392.9297,727.8594 Q393.0781,727.7813 393.2813,727.7813 Q393.6094,727.7813 393.8672,728.0391 Q394.125,728.2969 394.125,728.6406 Q394.125,728.9844 393.7813,729.3906 Q393.2813,729.9688 392.4844,730.2969 Q391.4063,730.75 390.1094,730.75 Q388.5938,730.75 387.3906,730.125 Q386.4063,729.625 385.7188,728.5547 Q385.0313,727.4844 385.0313,726.2031 L385.0313,725.0469 Q385.0313,723.7188 385.6484,722.5703 Q386.2656,721.4219 387.3594,720.8047 Q388.4531,720.1875 389.6875,720.1875 Q390.4219,720.1875 391.0703,720.3516 Q391.7188,720.5156 392.2656,720.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="64" x="403.5" y="729.9102">UARTDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="375.5" x2="469.5" y1="741" y2="741"/><line style="stroke:#A80036;stroke-width:1.5;" x1="375.5" x2="469.5" y1="749" y2="749"/><path d="M237.5,711.5 L237.5,754.2031 A0,0 0 0 0 237.5,754.2031 L339.5,754.2031 A0,0 0 0 0 339.5,754.2031 L339.5,737 L374.21,733 L339.5,729 L339.5,721.5 L329.5,711.5 L237.5,711.5 A0,0 0 0 0 237.5,711.5 " fill="#FBFB77" filter="url(#fe71bnnmbrgy3)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M329.5,711.5 L329.5,721.5 L339.5,721.5 L329.5,711.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="243.5" y="729.9951">Used in other</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="243.5" y="746.3467">places too.</text><!--MD5=[5ad4cd9c7bfe258d69f010f77acf2a05]
class IUARTDriver--><rect codeLine="94" fill="#FEFECE" filter="url(#fe71bnnmbrgy3)" height="103.3438" id="IUARTDriver" style="stroke:#A80036;stroke-width:1.5;" width="102" x="371.5" y="857"/><ellipse cx="386.5" cy="873" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M387.4531,869.6406 L387.4531,876.2969 L389.1719,876.2969 Q389.7813,876.2969 390.0469,876.5313 Q390.3125,876.7656 390.3125,877.1563 Q390.3125,877.5313 390.0469,877.7656 Q389.7813,878 389.1719,878 L384.0313,878 Q383.4219,878 383.1563,877.7656 Q382.8906,877.5313 382.8906,877.1406 Q382.8906,876.7656 383.1563,876.5313 Q383.4219,876.2969 384.0313,876.2969 L385.75,876.2969 L385.75,869.6406 L384.0313,869.6406 Q383.4219,869.6406 383.1563,869.4063 Q382.8906,869.1719 382.8906,868.7813 Q382.8906,868.4063 383.1563,868.1719 Q383.4219,867.9375 384.0313,867.9375 L389.1719,867.9375 Q389.7813,867.9375 390.0469,868.1719 Q390.3125,868.4063 390.3125,868.7813 Q390.3125,869.1719 390.0469,869.4063 Q389.7813,869.6406 389.1719,869.6406 L387.4531,869.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="70" x="400.5" y="877.9102">IUARTDriver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="372.5" x2="472.5" y1="889" y2="889"/><line style="stroke:#A80036;stroke-width:1.5;" x1="372.5" x2="472.5" y1="897" y2="897"/><ellipse cx="382.5" cy="908" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="391.5" y="912.4189">void open()</text><ellipse cx="382.5" cy="921.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="391.5" y="926.2549">void close()</text><ellipse cx="382.5" cy="935.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="391.5" y="940.0908">void read()</text><ellipse cx="382.5" cy="949.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="391.5" y="953.9268">void write()</text><!--MD5=[0a180db10c151aa9b00756324e53e628]
link Meassurement to StoragesContainer--><path codeLine="11" d="M542.26,58.5 C553.71,58.5 565.15,58.5 576.59,58.5 " fill="none" id="Meassurement-StoragesContainer" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c16d6aa305fa10d54aee669eb56a562b]
link UARTDriver to IUARTDriver--><path codeLine="101" d="M422.5,757.04 C422.5,777.44 422.5,808.31 422.5,836.79 " fill="none" id="UARTDriver-to-IUARTDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="429.5,836.92,422.5,856.92,415.5,836.92,429.5,836.92" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0c3f5be8723dc34fa10cb51fc7d449dd]
reverse link UARTStorageDriver to UARTDriver--><path codeLine="102" d="M352.3,598.54 C371.12,634.32 395.79,681.22 410.31,708.83 " fill="none" id="UARTStorageDriver-backto-UARTDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="346.16,586.87,345.4133,594.0423,351.7468,597.4902,352.4934,590.3178,346.16,586.87" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7de8398d00877e507ad41a6047a3e2b0]
reverse link StoragesContainer to SDCardStorage--><path codeLine="104" d="M711.52,119.77 C730.43,139.41 750.6,160.36 766.44,176.81 " fill="none" id="StoragesContainer-backto-SDCardStorage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="702.37,110.26,703.652,117.3562,710.6955,118.9021,709.4134,111.8059,702.37,110.26" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[278eb68ce087738c48779b563fd677ec]
reverse link StoragesContainer to UARTStorage--><path codeLine="105" d="M564.6,107.97 C562.9,108.67 561.19,109.35 559.5,110 C455.69,149.97 420.56,130.68 316.5,170 C306.23,173.88 295.53,178.89 285.66,183.96 " fill="none" id="StoragesContainer-backto-UARTStorage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="576.77,102.7,569.6735,101.4197,565.7622,107.478,572.8588,108.7582,576.77,102.7" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[be86c472081707a0253ecbf8508ad3de]
reverse link StoragesContainer to WifiStorage--><path codeLine="106" d="M653.5,123.33 C653.5,139.15 653.5,155.58 653.5,169.66 " fill="none" id="StoragesContainer-backto-WifiStorage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="653.5,110.26,649.5,116.26,653.5,122.26,657.5,116.26,653.5,110.26" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f4513ebe9d4ae88f74e7db2d733c6ce6]
link WifiStorage to IStorage--><path codeLine="110" d="M654.26,246.22 C654.5,258.24 654.78,271.98 655.06,285.6 " fill="none" id="WifiStorage-to-IStorage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="662.06,285.78,655.47,305.92,648.07,286.07,662.06,285.78" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[18b3d315b5428e116120cbde23501107]
link SDCardStorage to IStorage--><path codeLine="111" d="M767.04,239.2 C752.88,254.23 735.18,273 718.13,291.1 " fill="none" id="SDCardStorage-to-IStorage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="723.17,295.96,704.36,305.71,712.98,286.36,723.17,295.96" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[930c73cafcdde33c19c30992741eaa74]
link UARTStorage to IStorage--><path codeLine="112" d="M285.21,232.04 C295.19,237.17 306.05,242.21 316.5,246 C427.97,286.44 472.97,256.77 589.39,307.27 " fill="none" id="UARTStorage-to-IStorage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="592.6,301.04,607.9,315.7,586.8,313.78,592.6,301.04" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[48058f3d815138c6bfd7cb462eb5e4eb]
reverse link UARTStorage to UARTStorageDriver--><path codeLine="114" d="M254.12,245.04 C269.6,309.71 301.92,444.79 317.6,510.29 " fill="none" id="UARTStorage-backto-UARTStorageDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="251,232,248.5078,238.7668,253.7955,243.6698,256.2877,236.9031,251,232" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[24ea1a3a1c99c02c467f2545e0ecae49]
reverse link SDCardStorage to SDCardDriver--><path codeLine="115" d="M794.99,252.32 C794.34,306.86 793.22,401.55 792.43,468.98 " fill="none" id="SDCardStorage-backto-SDCardDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="795.15,239.04,791.0778,244.9912,795.005,251.0391,799.0772,245.0879,795.15,239.04" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2dc7e96a9887d6a9972754472472160a]
reverse link WifiStorage to WifiDriver--><path codeLine="116" d="M610.19,255.98 C591.32,276.44 569.52,300.08 551.81,319.29 " fill="none" id="WifiStorage-backto-WifiDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="619.18,246.22,612.1718,247.9187,611.0445,255.0412,618.0526,253.3424,619.18,246.22" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[490bc86ac7b0803432b8af5cb7ab5df2]
link SDCardDriver to IStorageDriver--><path codeLine="118" d="M733.7,628.22 C723.02,642.76 712.03,657.73 701.83,671.62 " fill="none" id="SDCardDriver-to-IStorageDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="707.34,675.95,689.86,687.93,696.05,667.67,707.34,675.95" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f2f99f39a22ea476b85968025f790254]
link UARTStorageDriver to IStorageDriver--><path codeLine="119" d="M362.39,586.81 C377.29,600.94 395.33,616.39 413.5,628 C466.43,661.81 532.22,689.12 582.14,707.25 " fill="none" id="UARTStorageDriver-to-IStorageDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="584.61,700.7,601.12,713.98,579.93,713.89,584.61,700.7" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f75aa50b865b0718b3b967a088c3ae2e]
link WifiDriver to IStorageDriver--><path codeLine="120" d="M563.63,395.51 C584.76,415.06 608.05,440.83 621.5,469 C651.55,531.92 658.65,612.33 659.44,667.58 " fill="none" id="WifiDriver-to-IStorageDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="666.44,667.78,659.46,687.79,652.44,667.8,666.44,667.78" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[51df14ea5dc5b39be42bec6bfd69328b]
reverse link WifiDriver to UARTStorageDriver--><path codeLine="122" d="M470.39,405.11 C437.66,437.51 394.61,480.1 364.16,510.24 " fill="none" id="WifiDriver-backto-UARTStorageDriver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="479.76,395.84,472.6813,397.2157,471.2287,404.279,478.3073,402.9033,479.76,395.84" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[59ca48e53df767fba1f570ccd44d351a]
reverse link UARTStorageDriver to UARTDriverConfig--><path codeLine="124" d="M278.13,595.96 C243.47,629.25 197.8,673.12 167.82,701.92 " fill="none" id="UARTStorageDriver-backto-UARTDriverConfig" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="287.59,586.87,280.4928,588.1466,278.9415,595.1889,286.0387,593.9123,287.59,586.87" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2f54456c6f9953a9b4f73007f4c938a2]
@startuml

class Meassurement

class StoragesContainer {
    +void init()
    +void configure()
    +void tick()
    +void write(Meassurement)
}

Meassurement - StoragesContainer

interface IStorage {
    +void init()
    +void deinit()
    +void write()
    -void serialize()
}

interface IStorageDriver {
    +void init()
    +void deinit()
    +void write()
}

class SDCardStorage {
    -fileName
}

class UARTStorage {
}

note left of WifiStorage
ESP8266MOD has only Wifi support.
In future it would be possible 
to use ESP32 that has also Bloototh.
end note

class WifiStorage {
    -login
    -password
}


class SDCardDriver {
    -void mountFileSystem()
    -void unmountFileSystem()
    -void openFile()
    -void closeFile()
    -void sync()
    -void writeToFile()

    - fileSystemHandler
    - logFileHandler
}

class UARTStorageDriver {
    -void open()
    -void close()
}

note bottom of UARTDriverConfig
On embedded systems, there is no such 
identifier as COMx for serial port 
(in contrary to e.g Windows or Linux).
The config is added as a simple way
to hide this low level thing from 
high level UARTDriver. I didn't want
to hardcode the UART device handler
in the driver.
end note
class UARTDriverConfig {
    +UARTHandler
}

note bottom of WifiDriver
Communication with WiFi 
module is done via UART
end note

class WifiDriver {
    -void connect()
    -void disconnect()
}

note left of UARTDriver
Used in other 
places too.
end note
class UARTDriver {

}

interface IUARTDriver {
    +void open()
    +void close()
    +void read()
    +void write()
}

UARTDriver - -|> IUARTDriver
UARTStorageDriver o- - UARTDriver

StoragesContainer *- - SDCardStorage
StoragesContainer *- - UARTStorage
StoragesContainer *- - WifiStorage



WifiStorage - -|> IStorage
SDCardStorage - -|> IStorage
UARTStorage- -|> IStorage

UARTStorage o- - UARTStorageDriver
SDCardStorage *- - SDCardDriver
WifiStorage *- - WifiDriver

SDCardDriver - -|> IStorageDriver
UARTStorageDriver - -|> IStorageDriver
WifiDriver - -|> IStorageDriver

WifiDriver o- - UARTStorageDriver

UARTStorageDriver *- - UARTDriverConfig

@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1250
Language: pl
Country: PL
--></g></svg>